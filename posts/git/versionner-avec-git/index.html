<!DOCTYPE html><html lang="fr" class="rcp-VerticalRhythm"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><meta name="viewport" content="width=device-width, init-scale=1.0, minimal-ui"><title>Versionner avec Git</title><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@putaindecode"/><meta name="twitter:title" content="Versionner avec Git"/><meta name="twitter:creator" content="@madx"/><meta property="og:title" content="Versionner avec Git"/><meta property="og:type" content="article"/><meta property="og:site_name" content="Putain de code !"/><link rel="stylesheet" href="../../../stylesheets/index.css"><link rel="alternate" href="../../../feed.xml" title="Putain de code !" type="application/atom+xml"></head><body><svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="putainde-Icon-bookmark" viewBox="0 0 512 512">
      <title>bookmark icon</title>
      <path d="M318.275 90v283.23L256 318.16l-62.275 55.07V90h124.55m40-40h-204.55v412L256 371.557 358.275 462V50z"/>
    </symbol>

    <symbol id="putainde-Icon-github" viewBox="0 0 512 512">
      <title>github icon</title>
      <path d="M461.633 250.645l.367-3.82c-22.896-2.22-45.667-2.418-67.79-.73 3.557-11.346 5.43-24.163 5.295-38.738-.292-30.965-10.616-55.08-26.843-75.096 3.116-18.85.77-37.7-5.11-56.56-23.188 1.898-44.054 9.493-62.635 22.686-34.725-7.044-69.447-7.493-104.172 0-21.673-14.627-42.956-21.802-63.91-22.686-6.21 20.765-7.168 41.233-1.916 61.357-18.28 19.397-25.27 42.944-24.926 69.02.196 14.926 2.496 28.208 6.738 39.95-21.796-1.598-44.2-1.385-66.732.8l.367 3.818c22.947-2.228 45.76-2.41 67.92-.678.813 1.974 1.632 3.94 2.566 5.815-24.01-.633-45.618 1.453-65.854 6.43l.913 3.723c20.538-5.048 42.54-7.08 67.107-6.254 16.246 28.865 47.52 45.825 93.063 51.206-10.58 8.594-16.27 18.73-17.735 30.2h-24.12c-32.395 0-41.227-41.303-74.78-37.228C132 320 125.5 371.598 177.588 371.598h21.88v47.297c.234 7.643-3.093 12.754-8.47 16.297 18.655 1.884 32.675-7.43 32.675-18.854V353.82l5.833-6v72.992c.245 7.265-3.284 11.392-7.03 15.34 16.433.653 31.89-2.63 32.59-16.616V349.68s5.757-3.6 5.757 0v66.58c.17 11.8 10.36 21.366 31.953 19.892-5.776-4.65-7.55-9.35-7.55-16.15v-72.18s5.95-.307 5.95 6v60.88c0 13.55 16.268 19.14 34.83 18.615-6.08-4.558-10.196-9.99-10.223-17.256v-73.216c-.63-10.762-5.003-20.906-13.582-30.358 41.63-6.392 71.638-23.01 86.58-52.796 24.646-.847 46.714 1.183 67.306 6.246l.914-3.723c-20.394-5.014-42.18-7.096-66.416-6.415.84-1.89 1.67-3.79 2.39-5.785 22.39-1.798 45.457-1.622 68.66.632zM114 310.023c-1.023 0-1.853-.588-1.853-1.313 0-.728.83-1.315 1.853-1.315 1.024 0 1.854.588 1.854 1.315 0 .726-.83 1.313-1.854 1.313zm5.833 3.98c-1.137 0-2.06-.653-2.06-1.46s.923-1.462 2.06-1.462 2.06.656 2.06 1.463-.923 1.46-2.06 1.46zm5.917 5.17c-1.333 0-2.415-.767-2.415-1.713s1.082-1.714 2.415-1.714 2.416.768 2.416 1.714-1.083 1.712-2.416 1.712zm5.75 6.206c-1.56 0-2.825-.897-2.825-2.004s1.265-2.005 2.825-2.005 2.825.9 2.825 2.006-1.265 2.003-2.825 2.003zm6.333 7.014c-1.733 0-3.14-.996-3.14-2.226s1.407-2.228 3.14-2.228 3.14.998 3.14 2.228-1.407 2.226-3.14 2.226zm7.334 7.123c-1.926 0-3.488-1.107-3.488-2.474s1.56-2.476 3.487-2.476c1.925 0 3.487 1.11 3.487 2.476s-1.562 2.474-3.487 2.474zm9.916 6.774c-2.14 0-3.875-1.23-3.875-2.748 0-1.52 1.735-2.75 3.875-2.75s3.875 1.23 3.875 2.75c0 1.518-1.735 2.75-3.875 2.75zm12.292 3.626c-2.14 0-3.875-1.23-3.875-2.75 0-1.518 1.735-2.75 3.875-2.75s3.875 1.232 3.875 2.75c0 1.52-1.735 2.75-3.875 2.75zm12.958.417c-2.14 0-3.875-1.23-3.875-2.75 0-1.518 1.735-2.75 3.875-2.75s3.875 1.232 3.875 2.75c0 1.52-1.735 2.75-3.875 2.75zm12.792.25c-2.14 0-3.875-1.23-3.875-2.75 0-1.518 1.735-2.75 3.875-2.75s3.875 1.232 3.875 2.75c0 1.52-1.735 2.75-3.875 2.75z"/>
    </symbol>

    <symbol id="putainde-Icon-home" viewBox="0 0 512 512">
      <title>home icon</title>
      <path d="M394.072 174.805l-47.916-48.023v-38.31h47.916v86.333zM462 275.815h-42.508v166.213H92.508V275.815H50L256 69.972l206 205.843zm-165.153-3.843c-15.81-3.316-29.02 4.086-38.792 19.387-9.77-15.302-22.98-22.704-38.79-19.388-36.745 10.876-36.335 69.543 38.583 113.047 75.06-43.26 75.742-102.172 39-113.048z"/>
    </symbol>

    <symbol id="putainde-Icon-pencil" viewBox="0 0 512 512">
      <title>pencil icon</title>
      <path d="M74.686 340.686L50 460.95l122.365-22.585L379.52 231.21l-97.68-97.68L74.686 340.687zm228.402-135.654l-181.89 181.89-21.214-21.213 181.89-181.89 21.214 21.212zM462 148.732l-52.662 52.66-97.682-97.68 52.662-52.662L462 148.73z"/>
    </symbol>

    <symbol id="putainde-Icon-text-file" viewBox="0 0 512 512">
      <title>text-file icon</title>
      <path d="M256 370.312h-84.495v-30H256v30zm83.495-55.416h-167.99v-30h167.99v30zm0-55.334h-167.99v-30h167.99v30zM297.818 90v85.75h85.864V422H128.317V90h169.5m25-40h-234.5v412h335.365V150.75L322.818 50z"/>
    </symbol>

    <symbol id="putainde-Icon-twitter" viewBox="0 0 512 512">
      <title>twitter icon</title>
      <path d="M462 128.223c-15.158 6.724-31.45 11.27-48.547 13.31 17.45-10.46 30.854-27.025 37.164-46.764-16.333 9.686-34.422 16.72-53.676 20.51-15.417-16.428-37.385-26.69-61.697-26.69-54.56 0-94.668 50.915-82.337 103.786-70.25-3.524-132.534-37.177-174.223-88.314-22.142 37.983-11.485 87.69 26.158 112.85-13.853-.438-26.89-4.24-38.284-10.574-.917 39.162 27.146 75.78 67.795 83.95-11.895 3.236-24.925 3.977-38.17 1.446 10.755 33.58 41.973 58.018 78.96 58.7C139.605 378.28 94.847 390.72 50 385.435c37.406 23.982 81.837 37.977 129.57 37.977 156.933 0 245.596-132.55 240.252-251.435 16.517-11.917 30.846-26.804 42.178-43.755z"/>
    </symbol>
</svg><div class="putainde-Header"><div class="Grid"><div class="Grid-cell u-size5of12"><a href="../../.." class="putainde-SiteTitle"><img alt="Putain de code !" src="../../../images/p!-logo.svg" class="putainde-Logo"><span>Putain de code !</span></a></div><div class="Grid-cell u-size7of12"><nav class="putainde-Nav"><a href="../.." data-rcp-tooltip="" class="putainde-Nav-item  "><svg style="" class="putainde-Icon putainde-Icon-bookmark"><use xlink:href="#putainde-Icon-bookmark"></use></svg> Articles</a><a href="../../../c-est-quoi-putaindecode" data-rcp-tooltip="" class="putainde-Nav-item  "><svg style="" class="putainde-Icon putainde-Icon-text-file"><use xlink:href="#putainde-Icon-text-file"></use></svg> Readme</a><a href="../../comment-contribuer" data-rcp-tooltip="" class="putainde-Nav-item  "><svg style="" class="putainde-Icon putainde-Icon-pencil"><use xlink:href="#putainde-Icon-pencil"></use></svg> Participer</a><a href="https://github.com/putaindecode/" data-rcp-tooltip="GitHub" class="putainde-Nav-item  putainde-Nav-item--icon rcp-Tooltip rcp-Tooltip--bottom"><svg style="" class="putainde-Icon putainde-Icon-github"><use xlink:href="#putainde-Icon-github"></use></svg></a><a href="https://twitter.com/putaindecode/" data-rcp-tooltip="Twitter" class="putainde-Nav-item  putainde-Nav-item--icon rcp-Tooltip rcp-Tooltip--bottom"><svg style="" class="putainde-Icon putainde-Icon-twitter"><use xlink:href="#putainde-Icon-twitter"></use></svg></a></nav></div></div></div><div class="putainde-Main"><article class="Grid putainde-Post"><div class="Grid-cell u-size8of12 Grid putainde-Post-contents"><div class="putainde-Title"><h1 class="putainde-Title-text">Versionner avec Git</h1></div><header class="putainde-Post-header"><div class="putainde-Post-metas">Écrit par <a href="http://madx.me/">madx</a>,<span class="putainde-Date"> le 6 nov. 2013</span>. <span data-rcp-tooltip="Temps de lecture approximatif, sur une base de {{wpm}} mots par minute" data-readingTime-wpm="250" class="putainde-Post-readingTime putainde-Post-readingTime--hidden rcp-Tooltip rcp-Tooltip--top">Temps de lecture : environ  <span class="putainde-Post-readingTime-value"></span> minutes</span></div><ul class="putainde-Tags putainde-Post-tags"><li class="putainde-Tag">git</li></ul></header><div class="putainde-Post-md"><p>Chez <em>Putain de code !</em>, on aime se servir de <a href="http://git-scm.com/">Git</a> (et de GitHub, mais
c’est une autre histoire), même si certains d’entre nous (comme Lionel) ne s’en
servent pas forcément bien.</p>
<p>Pour éviter ce genre de mésaventures, on s’est dit qu’on allait consacrer une
série d’articles à ce merveilleux gestionnaire de versions, et de vous en faire
profiter par la même occasion.</p>
<p>Et si Git permet de faire à peu près ce qu’on veut sur un dépôt, vous verrez
qu’on peut assez facilement réparer ses erreurs (et même celles des autres
parfois !).</p>
<h2 id="c-est-quoi-git-"><a class="putainde-Title-anchor" href="#c-est-quoi-git-">#</a>C’est quoi Git ?</h2><p>Si vous êtes un développeur un tant soit peu consciencieux, vous utilisez un
gestionnaire de versions pour suivre l’évolution de votre code. Non,
<a href="http://roland.entierement.nu/blog/2008/01/22/cpold-la-poudre-verte-du-suivi-de-versions.html">CPOLD</a> n’est pas un gestionnaire de versions.</p>
<p>Git, c’est un gestionnaire de versions décentralisé, aussi connu sous le terme
de DVCS (pour Distributed Version Control System) pour les amateurs.</p>
<p>Le terme <em>distribué</em> est très important car c’est ce qui le différencie d’autres
gestionnaires historiquement plus connus comme Subversion (SVN) ou le vénérable
CVS.</p>
<p>Ça veut dire que chaque développeur possède sa propre copie du dépôt, chez lui,
localement, contraîrement à un gestionnaire centralisé ou tout est… centralisé
sur un même serveur (merci Captain Obvious).</p>
<p>Git est principalement utilisable en ligne de commande, mais il existe des
interfaces graphiques sous les principaux OS du marché (OS X, Linux, Windows).
Ici on va traiter de la ligne de commande, car c’est l’arme de base du bon
développeur.</p>
<p>Je vous passe l’installation, référez-vous à la documentation officielle pour
cette partie. (Ça se résume souvent à un <code>nom-du-package-manager install git</code>)</p>
<h2 id="comment-ca-marche-"><a class="putainde-Title-anchor" href="#comment-ca-marche-">#</a>Comment ça marche ?</h2><p>Avant d’attaquer la partie pratique, on va s’attarder un peu à comment Git
fonctionne, parce qu’à mon sens c’est essentiel pour comprendre rapidement ce
qu’il est possible de faire et pour se construire un modèle mental des
opérations.</p>
<p>Dans Git les commits sont tous reliés avec leur(s) parent(s) comme les maillons
d’une chaîne qui pourrait avoir des bifurcations. Chaque commit stocke des
informations sur l’état du dépôt à un instant donné (l’état complet, pas
uniquement un diff).</p>
<p>On construit cette chaîne et ses bifurcations en créant des commits, en
branchant et en fusionant une branche dans une autre.</p>
<p>Enfin, une dernière chose que vous devez garder en tête c’est qu’un commit est
définitif dans le sens ou on ne pourra jamais modifier son contenu (on pourra
par contre le remplacer par un autre). Comme il est unique, il a un numéro qui
est un haché <code>SHA1</code> de diverses informations.</p>
<p>Ces <code>SHA1</code> sont utilisé à foison, habituez-y vous !</p>
<p>Voilà, maintenant sortons nous les doigts et regardons comment ça marche
concrètement.</p>
<h2 id="creer-ou-recuperer-un-repo"><a class="putainde-Title-anchor" href="#creer-ou-recuperer-un-repo">#</a>Créer ou récupérer un repo</h2><p>Il y a deux manières de créer un dépôt Git : soit on en veut un tout neuf et on
utilise <code>git init</code>, soit on veut cloner un dépôt déjà existant et on utilise le
bien nommé <code>git clone</code>.</p>
<p>Appellé sans argument, <code>git init</code> initialise un dépôt dans le dossier courant,
on peut lui passer un nom de dépôt en argument pour le créer dans un
sous-dossier spécifique du dossier courant.</p>
<p>Du côté de <code>git clone</code>, on va passer l’adresse d’un dépôt, et optionnellement un
nom local pour le dépôt. Il va récupérer le dépôt à l’adresse spécifiée (c’est
bien foutu hein ?) puis le mettre soit dans un dossier du même nom soit dans un
dossier du nom spécifié en dernier argument.</p>
<p>Par exemple, si je veux cloner le dépôt du site :</p>
<pre><code class="lang-bash"><span class="hljs-variable">$ </span>git clone <span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/github.com/putaindecode</span><span class="hljs-regexp">/putaindecode.fr.git</span>
</code></pre>
<p>Ça va créer un dossier <code>putaindecode.fr</code> avec le contenu du dépôt.</p>
<p><code>clone</code> accepte plusieurs types d’adresse : HTTP(S), SSH, protocole Git dédié et
même des chemins locaux pour cloner un dépôt situé ailleurs sur le système de
fichiers.</p>
<p>Pour la suite, il va falloir se placer dans un dépôt avec le petit <code>cd</code> qui va
bien pour lancer les vraies commandes intéressantes de Git.</p>
<h2 id="premiers-commits"><a class="putainde-Title-anchor" href="#premiers-commits">#</a>Premiers commits</h2><p>Pour commencer à s’amuser, écrivez un bout de code dans un fichier et
sauvegardez le :</p>
<pre><code class="lang-bash"><span class="hljs-prompt">$ cat &gt;</span> putain_de_hello_world.rb
puts <span class="hljs-string">"Hello, putain de codeur !"</span>
^<span class="hljs-constant">D</span>
</code></pre>
<p>On va tout se suite introduire l’un des concepts déroutants de Git, <em>l’Index</em>.
Git utilise trois zones distinctes pour les fichiers : le dossier de travail
(<em>Working Dir</em>) qui contient les fichiers dans leur version actuelle, <em>l’Index</em>
qui permet de stocker les modifications et <code>HEAD</code> qui pointe vers le dernier
commit.</p>
<p>L’idée, c’est qu’on peut modifier les fichiers comme on le souhaite, et
constuire le commit avec seulement les modifications que l’on souhaite voir
apparaître.</p>
<p>Cette possibilité permet d’avoir des commits atomiques, c’est à dire qui
introduisent une modification simple. Ça évite de se retrouver avec un commit
mammouth qui change tout le programme d’un coup et qui est un enfer pour le
futur développeur qui revient sur le code et qui cherche à comprendre la logique
de sa construction. Ce développeur, c’est vous dans 1 ou 2 semaines.</p>
<p>Pour info, vous verrez parfois <em>l’Index</em> appellé <em>Staging Area</em>, ou encore
<em>Cache</em>.</p>
<p>Git fournit des commandes pour passer les fichiers d’un état à l’autre. Elles
sont certes parfois un peu obscures, mais dans l’ensemble c’est pas si
difficile.</p>
<p>Dans notre cas, notre fichier n’est même pas encore suivi par Git ! Vous pouvez
vérifier ça en utilisant <code>git status</code>, dont vous ne pourrez bientôt plus vous
passer :</p>
<pre><code class="lang-bash">$ git status
<span class="hljs-preprocessor"># Sur la branche master</span>
<span class="hljs-preprocessor">#</span>
<span class="hljs-preprocessor"># Validation initiale.</span>
<span class="hljs-preprocessor">#</span>
<span class="hljs-preprocessor"># Fichiers non suivis:</span>
<span class="hljs-preprocessor">#   (utilisez "git add &lt;fichier&gt;..." pour inclure dans ce qui sera validé)</span>
<span class="hljs-preprocessor">#</span>
<span class="hljs-preprocessor">#    putain_de_hello_world.rb</span>
Aucune modification indexée mais des fichiers non suivis sont présents (utilisez <span class="hljs-string">"git add"</span> pour les suivre)
</code></pre>
<p>Pour pallier celà, on utilise <code>git add</code> pour l’ajouter direct à l’index.</p>
<p>Dans notre cas, ça donne <code>git add putain_de_hello_world.rb</code></p>
<p>On peut utilise <code>git add</code> pour ajouter des dossiers entiers, des motifs, … Mais
soyez vigilants, c’est une bonne source d’erreurs souvent chiantes.</p>
<p>Vous pouvez vérifier que <code>git add</code> a bien marché avec la commande <code>git status</code>,</p>
<pre><code class="lang-bash">$ git status
<span class="hljs-preprocessor"># Sur la branche master</span>
<span class="hljs-preprocessor">#</span>
<span class="hljs-preprocessor"># Validation initiale.</span>
<span class="hljs-preprocessor">#</span>
<span class="hljs-preprocessor"># Modifications qui seront validées :</span>
<span class="hljs-preprocessor">#   (utilisez "git rm --cached &lt;fichier&gt;..." pour désindexer)</span>
<span class="hljs-preprocessor">#</span>
<span class="hljs-preprocessor">#    nouveau : putain_de_hello_world.rb</span>
<span class="hljs-preprocessor">#</span>
</code></pre>
<p>Ok c’est prêt ! On lance maintenant <code>git commit</code> pour créer notre premier commit
(pas con le <em>naming</em> de la commande hein ?). Si tout se passe bien vous devriez
avoir un éditeur qui s’ouvre pour écrire un message de commit. Prenez l’habitude
de décrire votre changement sur la première ligne succintement et, si vous avez
besoin de détails, sautez une ligne et détaillez les modifications.</p>
<p>Un petit <code>git status</code> nous confirme qu’on s’est pas foiré (la preuve, tout est
propre) :</p>
<pre><code class="lang-bash"><span class="hljs-variable">$ </span>git status
<span class="hljs-comment"># Sur la branche master</span>
rien à valider, la copie de travail est propre
</code></pre>
<h2 id="inspecter"><a class="putainde-Title-anchor" href="#inspecter">#</a>Inspecter</h2><p>Bon, c’est bien beau de commiter, mais à un moment on arrive sur un projet en
cours et on aimerait bien savoir où on en est. Pour ça vous pouvez utiliser un
outil graphique (il y en a pour <a href="https://wiki.gnome.org/Apps/Gitg">Linux</a>, <a href="http://gitx.frim.nl/">OS X</a> et même sûrement
Windows) ou retrousser vos poils de barbe et sortir le bon vieux <code>git log</code>.</p>
<p>C’est un vrai couteau-suisse qui va vous permettre d’inspecter tout l’historique
de votre dépôt, avec des options en veux-tu en voilà pour personnaliser
l’affichage.</p>
<p>Un <code>git log</code> basique ça ressemble à ça :</p>
<pre><code class="lang-bash">$ git log
commit <span class="hljs-number">8120</span>de7b7139e46b9cbc1c3ee89a02962dbc198e
<span class="hljs-label">Author:</span> madx &lt;madx+github@yapok<span class="hljs-preprocessor">.org</span>&gt;
<span class="hljs-label">Date:</span>   Mon Nov <span class="hljs-number">4</span> <span class="hljs-number">23</span>:<span class="hljs-number">28</span>:<span class="hljs-number">11</span> <span class="hljs-number">2013</span> +<span class="hljs-number">0100</span>

    Premier commit
</code></pre>
<p>Oui, c’est le commit que je viens de faire dans la partie précédente. Comment
j’en suis sûr ? Car je peux utiliser <code>git show</code> pour afficher les détails d’un
objet Git (il n’y a pas que des commits, mais on verra ça une prochaine fois).</p>
<p><code>git show</code> prend en argument le fameux <code>SHA1</code> du commit :</p>
<pre><code class="lang-bash">$ git <span class="hljs-operator"><span class="hljs-keyword">show</span> <span class="hljs-number">8120</span>de7b7139e46b9cbc1c3ee89a02962dbc198e
<span class="hljs-keyword">commit</span> <span class="hljs-number">8120</span>de7b7139e46b9cbc1c3ee89a02962dbc198e
Author: madx &lt;madx+github@yapok.org&gt;
<span class="hljs-built_in">Date</span>:   Mon Nov <span class="hljs-number">4</span> <span class="hljs-number">23</span>:<span class="hljs-number">28</span>:<span class="hljs-number">11</span> <span class="hljs-number">2013</span> +<span class="hljs-number">0100</span>

    Premier <span class="hljs-keyword">commit</span>

diff <span class="hljs-comment">--git a/putain_de_hello_world.rb b/putain_de_hello_world.rb</span>
new file <span class="hljs-keyword">mode</span> <span class="hljs-number">100644</span>
<span class="hljs-keyword">index</span> <span class="hljs-number">0000000.</span>.ded37dc
<span class="hljs-comment">--- /dev/null</span>
+++ b/putain_de_hello_world.rb
@@ -<span class="hljs-number">0</span>,<span class="hljs-number">0</span> +<span class="hljs-number">1</span> @@
+puts <span class="hljs-string">"Hello, putain de codeur !!!"</span></span>
</code></pre>
<p>Dit comme ça, ça a pas l’air de casser trois pattes à un canard, mais c’est la
base de la base de la praticité. Je vous fait pas l’insulte de vous expliquer le
détails, vous êtes sans doute assez malins pour comprendre ce que git raconte
sur la sortie de ces deux commandes.</p>
<p>Remarquez que <code>git show</code> affiche en bonus les différences introduites par un
fichier. Ces différences on peut aussi les voir avant de commiter avec <code>git
diff</code>, ce qui est bien pratique.</p>
<p>Entraînez vous maintenant à faire des commits, à inspecter et à farfouiller les
pages de <code>man</code>, c’est la meilleure façon d’apprendre. Après on va attaquer le
gros morceau, celui qui fait la force de Git.</p>
<figure>
  <img src="mind_blown.gif" alt="Mind blown">
</figure>

<h2 id="branchement-et-fusions"><a class="putainde-Title-anchor" href="#branchement-et-fusions">#</a>Branchement et fusions</h2><p>Créer une branche, ça permet de travailler sur une fonctionnalité ou un bug
précis, sans encombrer la ligne de conduite principale, qui peut évoluer sous
d’autres contraintes.</p>
<p>Dans Git, les branches sont une partie essentielle de quasiment tout <em>workflow</em>,
et leur manipulation est très rapide et très légère.</p>
<p>Pour en revenir à mon histoire de maillon, créer une branche revient à créer un
point à partir duquel deux chaînes vont être possibles.</p>
<p>C’est aussi simple qu’un <code>git branch le-nom-de-ma-branche</code>. Cette commande se
contente de créer la branche, pour se positionner dessus on utilise <code>git
checkout</code> qui permet de naviguer de branche en branche tel Tarzan sur ses
lianes.</p>
<p>Comme c’est super chiant à écrire, il existe un raccourci bien pratique : <code>git
checkout -b</code>, auquel on passe un nom de branche comme pour <code>git branch</code>.</p>
<p>Une fois qu’on est bien sur la branche, tous les commits suivants seront liés à
cette branche.</p>
<p>On peut utiliser <code>git branch</code> sans argument pour lister les branches, celle avec
un petit asterisque devant c’est la branche courante.</p>
<p>Essayons ça avec notre petit dépôt :</p>
<pre><code class="lang-bash">$ git branch
* master
$ git checkout -b add-shebang
Basculement sur la nouvelle branche 'add-shebang'
$ vim putain_de_hello_world.rb
$ git status
<span class="hljs-comment"># Sur la branche add-shebang</span>
<span class="hljs-comment"># Modifications qui ne seront pas validées :</span>
<span class="hljs-comment">#   (utilisez "git add &lt;fichier&gt;..." pour mettre à jour ce qui sera validé)</span>
<span class="hljs-comment">#   (utilisez "git checkout -- &lt;fichier&gt;..." pour annuler les modifications dans la copie de travail)</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment">#    modifié : putain_de_hello_world.rb</span>
<span class="hljs-comment">#</span>
aucune modification n'a été ajoutée au commit (utilisez <span class="hljs-string">"git add"</span> ou <span class="hljs-string">"git commit -a"</span>)
$ git add putain_de_hello_world.rb
$ git commit
[add-shebang <span class="hljs-number">5</span>d48735] Add shebang
 <span class="hljs-number">1</span> <span class="hljs-type">file</span> changed, <span class="hljs-number">1</span> insertion(+)
$ git <span class="hljs-command">log</span> <span class="hljs-comment">--pretty=oneline --decorate</span>
<span class="hljs-number">5</span>d48735fcc805d51e2e294df5d9d22d481250789 (HEAD, add-shebang) Add shebang
<span class="hljs-number">8120</span>de7b7139e46b9cbc1c3ee89a02962dbc198e (master) Premier commit
</code></pre>
<p>Comme vous le voyez grâce à l’option <code>--decorate--</code> de <code>git log</code>, on a bien
notre branche qui pointe sur le dernier commit fait, alors que la branche de
base fournie par Git, <code>master</code>, reste au commit précédent.</p>
<p>Dernière étape avant la fin de cette article : le redouté et redoutable
<code>merge</code> !</p>
<p>Pour fusionner nos deux branches on va utiliser cette commande en se plaçant sur
la branche dans laquelle on va fusionner et en passant en argument la branche à
fusionner.</p>
<p>Si vous avez bien suivi, on va donc faire les choses suivantes :</p>
<pre><code class="lang-bash">$ git checkout master
Basculement sur la branche <span class="hljs-string">'master'</span>
$ git merge add-shebang
Updating <span class="hljs-number">8120</span>de7..<span class="hljs-number">5</span>d48735
Fast-forward
 putain_de_hello_world<span class="hljs-class">.rb</span> | <span class="hljs-number">1</span> +
 <span class="hljs-number">1</span> file changed, <span class="hljs-number">1</span> <span class="hljs-function"><span class="hljs-title">insertion</span><span class="hljs-params">(+)</span></span>
</code></pre>
<p>Vous remarquez que Git signale <em>Fast-forward</em>. Comme le commit pointé par
<code>add-shebang</code> est un fils direct de celui de <code>master</code>, Git se contente de faire
pointer <code>master</code> sur celui-ci, ce qui est beaucoup plus rapide.</p>
<p>Dans le cas où on a eu des modifications sur <code>master</code> entre temps, on aurait eu
une vraie fusion des contenus des commits, avec éventuellement une résolution de
conflits, mais on verra ça dans un prochain article !</p>
<h2 id="la-suite"><a class="putainde-Title-anchor" href="#la-suite">#</a>La suite</h2><p>On a vu les bases, et très bientôt on va approfondir le sujet, en voyant
notamment comment collaborer, comment résoudre des conflits ou des problèmes
d’utilisation de Git, tout ça dans la joie et la bonne humeur.</p>
<h2 id="references"><a class="putainde-Title-anchor" href="#references">#</a>Références</h2><p>Si vous voulez en savoir plus sur Git, la <a href="http://git-scm.com/documentation">documentation officielle</a> est plutôt
bien foutue.</p>
<p>Si vous aimez les petites références rapides et illustrées, le <a href="http://rogerdudler.github.io/git-guide/">Git
Guide</a> de Roger Dudler est une bonne manière d’apprendre.</p>
<h2 id="hey-tu-veux-appliquer-ca-pour-contribuer-"><a class="putainde-Title-anchor" href="#hey-tu-veux-appliquer-ca-pour-contribuer-">#</a>Hey ! Tu veux appliquer ça pour contribuer ?</h2><p>Pas de problème, on a écrit un post exprès :
<a href="/posts/comment-contribuer/">Comment contribuer</a> !</p>
</div><footer class="putainde-Post-footer"><div class="putainde-Post-footer-title">Action sur cette page</div><div class="Grid"><div class="Grid-cell u-size1of3"><a href="http://github.com/putaindecode/putaindecode.fr/edit/master/src/pages/posts/git/versionner-avec-git/index.md" class="putainde-Post-footer-action">Modifier</a></div><div class="Grid-cell u-size1of3"><a href="http://github.com/putaindecode/putaindecode.fr/blame/master/src/pages/posts/git/versionner-avec-git/index.md" class="putainde-Post-footer-action">Tracer les changements</a></div><div class="Grid-cell u-size1of3"><a href="http://github.com/putaindecode/putaindecode.fr/commits/master/src/pages/posts/git/versionner-avec-git/index.md" class="putainde-Post-footer-action">Historique</a></div></div></footer><div class="putainde-Author"><a href="http://madx.me/" data-rcp-tooltip="madx" class="putainde-Author-picture "><img src="https://avatars.githubusercontent.com/u/5723?v=2&amp;s=128" alt="" class="putainde-Avatar js-AnimateLoad"/></a><div class="putainde-Author-description"><div class="putainde-Author-title"><h3 class="putainde-Author-name"><span class="putainde-WrittenBy">Écrit par</span> <a href="http://madx.me/" class="putainde-Link">madx</a></h3><div class="putainde-Author-social"><a href="http://madx.me/" data-rcp-tooltip="Website" class="rcp-Tooltip rcp-Tooltip--top"><svg style="" class="putainde-Icon putainde-Icon-home"><use xlink:href="#putainde-Icon-home"></use></svg></a><a href="https://twitter.com/madx" data-rcp-tooltip="Twitter" class="rcp-Tooltip rcp-Tooltip--top"><svg style="" class="putainde-Icon putainde-Icon-twitter"><use xlink:href="#putainde-Icon-twitter"></use></svg></a><a href="https://github.com/madx" data-rcp-tooltip="Github" class="rcp-Tooltip rcp-Tooltip--top"><svg style="" class="putainde-Icon putainde-Icon-github"><use xlink:href="#putainde-Icon-github"></use></svg></a></div></div><p class="putainde-Author-bio">Développeur Ruby et JavaScript, avec un goût prononcé pour la simplicité, le soleil, le pastis. <br> Il n'aime pas OS X car, objectivement, c'est nul. <br> Quand il n'est pas devant son ordi, il y a de grandes chances qu'il compense avec son téléphone. <br> Spécialiste en développement d'applications inutiles.</p></div></div><div class="putainde-Contributors"><strong class="putainde-Contributors-label">5 contributeurs</strong><a href="http://moox.io/" data-rcp-tooltip="MoOx" class="putainde-Contributor rcp-Tooltip rcp-Tooltip--bottom"><img src="https://avatars.githubusercontent.com/u/157534?v=2&amp;s=128" alt="" class="putainde-Avatar js-AnimateLoad"/></a><a href="http://madx.me/" data-rcp-tooltip="madx" class="putainde-Contributor rcp-Tooltip rcp-Tooltip--bottom"><img src="https://avatars.githubusercontent.com/u/5723?v=2&amp;s=128" alt="" class="putainde-Avatar js-AnimateLoad"/></a><a href="http://bloodyowl.io" data-rcp-tooltip="bloodyowl" class="putainde-Contributor rcp-Tooltip rcp-Tooltip--bottom"><img src="https://avatars.githubusercontent.com/u/1688645?v=2&amp;s=128" alt="" class="putainde-Avatar js-AnimateLoad"/></a><a href="https://github.com/Dridi" data-rcp-tooltip="Dridi" class="putainde-Contributor rcp-Tooltip rcp-Tooltip--bottom"><img src="https://avatars.githubusercontent.com/u/891744?v=2&amp;s=128" alt="" class="putainde-Avatar js-AnimateLoad"/></a><a href="http://kud.io" data-rcp-tooltip="kud" class="putainde-Contributor rcp-Tooltip rcp-Tooltip--bottom"><img src="https://avatars.githubusercontent.com/u/655838?v=2&amp;s=128" alt="" class="putainde-Avatar js-AnimateLoad"/></a></div><div id="disqus_thread" aria-live="polite"><noscript>| Please enable JavaScript to view the
a(href="http://disqus.com/?ref_noscript") comments powered by Disqus.</noscript></div></div></article></div><div class="putainde-Footer"><div class="Grid"><div class="Grid-cell u-size3of12"><p class="putainde-Footer-text">© 1970 - 2014 Putain de code !</p></div><div class="Grid-cell u-size6of12"><ul class="putainde-Footer-list"><li></li><li><a href="../../../feed.xml">Flux RSS</a></li><li><a href="../../../projets">Projets</a></li><li><a href="https://github.com/putaindecode/forum/issues">Forum</a></li><li><a href="irc://irc.freenode.net/putaindecode">IRC</a></li><a href="https://github.com/putaindecode/" data-rcp-tooltip="GitHub" class="rcp-Tooltip rcp-Tooltip--top"><svg style="" class="putainde-Icon putainde-Icon-github"><use xlink:href="#putainde-Icon-github"></use></svg></a><a href="https://twitter.com/putaindecode/" data-rcp-tooltip="Twitter" class="rcp-Tooltip rcp-Tooltip--top"><svg style="" class="putainde-Icon putainde-Icon-twitter"><use xlink:href="#putainde-Icon-twitter"></use></svg></a></ul></div><div class="Grid-cell u-size3of12"><p class="putainde-Footer-text putainde-Footer-text--small putainde-Footer-text--right">Made with ♥︎ by <a href="../../../#crew">le crew</a></p></div></div></div><script>var disqus_shortname = "putaindecode";var disqus_identifier = "http://putaindecode.fr/posts/git/versionner-avec-git/";
var disqus_url = "http://putaindecode.fr/posts/git/versionner-avec-git/";
var disqus_script = "embed.js";;(function(d,s) {
s = d.createElement('script');s.async=1;s.src = '//' + disqus_shortname + '.disqus.com/'+disqus_script;
(d.getElementsByTagName('head')[0]).appendChild(s)
})(document)</script><script src="../../../scripts/index.js"></script><script>var _gaq=[['_setAccount','UA-43771806-1'],['_trackPageview']];
(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
g.src='//www.google-analytics.com/ga.js';
s.parentNode.insertBefore(g,s)}(document,'script'));</script></body></html>