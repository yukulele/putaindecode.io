<!doctype html><html lang="en"><head><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><meta name="viewport" content="width=device-width, initial-scale=1" /><link rel="stylesheet" href="/statinamic-client.css" /><meta data-react-helmet="true" property="og:site_name" content="Putain de code !"/><meta data-react-helmet="true" name="twitter:site" content="@putaindecode_fr"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="Maîtriser les redirections shell"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:title" content="Maîtriser les redirections shell"/><meta data-react-helmet="true" name="twitter:creator" content="@madx"/><title data-react-helmet="true">Maîtriser les redirections shell</title></head><body><div id="statinamic"><div id="statinamic-container" data-reactid=".kmkb4wc45c" data-react-checksum="-1677892819"><div class="r-VerticalRhythm" lang="fr" data-reactid=".kmkb4wc45c.0"><div data-reactid=".kmkb4wc45c.0.0"><noscript data-reactid=".kmkb4wc45c.0.0.0:0"></noscript><div class="putainde-Header" data-reactid=".kmkb4wc45c.0.0.0:1"><div class="r-Grid" data-reactid=".kmkb4wc45c.0.0.0:1.0"><div class="r-Grid-cell r-minM--1of3" data-reactid=".kmkb4wc45c.0.0.0:1.0.0"><a class="putainde-SiteTitle" href="/" data-reactid=".kmkb4wc45c.0.0.0:1.0.0.0"><span class="SVGIcon SVGIcon--cleaned putainde-Logo" data-reactid=".kmkb4wc45c.0.0.0:1.0.0.0.0"><svg class="SVGIcon-svg SVGIcon--cleaned-svg putainde-Logo-svg" xmlns="http://www.w3.org/2000/svg" viewBox="-49.5 652.5 512 512"><radialGradient id="a" cx="206.455" cy="-395.01" r="243.791" gradientTransform="matrix(.9784 0 0 -.9765 4.504 505.604)" gradientUnits="userSpaceOnUse"><stop offset=".8"/><stop offset=".95" stop-color="#333"/></radialGradient><linearGradient id="b" gradientUnits="userSpaceOnUse" x1="-34" y1="-376.331" x2="447" y2="-376.331" gradientTransform="matrix(1 0 0 -1 0 515)"><stop offset="0" stop-color="#333"/><stop offset="1"/></linearGradient><path vector-effect="non-scaling-stroke" opacity=".4" fill="url(#a)" stroke="url(#b)" stroke-miterlimit="10" d="M-33.5,891.331c0-130.655,107.456-236.581,240.01-236.581c132.535,0,239.99,105.927,239.99,236.581 c0,130.653-107.455,236.581-239.99,236.581C73.956,1127.911-33.5,1021.984-33.5,891.331z"/><linearGradient id="c" gradientUnits="userSpaceOnUse" x1="-34.5" y1="-377.169" x2="447.5" y2="-377.169" gradientTransform="matrix(1 0 0 -1 0 515)"><stop offset="0" stop-color="#333"/><stop offset="1"/></linearGradient><path opacity=".2" fill="none" stroke="url(#c)" stroke-width="2" stroke-miterlimit="10" d="M-33.5,892.169c0-130.655,107.456-236.581,240.01-236.581c132.535,0,239.99,105.928,239.99,236.581 c0,130.654-107.455,236.581-239.99,236.581C73.956,1128.75-33.5,1022.824-33.5,892.169z"/><g><linearGradient id="d" gradientUnits="userSpaceOnUse" x1="30.247" y1="427.851" x2="30.247" y2="228.319" gradientTransform="matrix(2.3906 0 0 -2.3906 134.192 1708.07)"><stop offset="0" stop-color="#FFF"/><stop offset="1" stop-color="#EEE"/></linearGradient><path vector-effect="non-scaling-stroke" fill="url(#d)" stroke="#7A7A7A" stroke-miterlimit="10" d="M1,889.671c0,112.916,92.003,204.444,205.51,204.444c1.283,0,2.565-0.019,3.828-0.04c19.795,40.379,61.281,68.175,109.258,68.175 c3.686,0,7.334-0.157,10.941-0.481c-20.401-23.875-33.307-54.348-35.07-87.771C364.424,1041.018,412,970.873,412,889.673 c0-112.894-92.004-204.423-205.49-204.423C93.004,685.247,1,776.777,1,889.671z"/><path fill="none" stroke="#7A7A7A" stroke-width="2" stroke-miterlimit="10" d="M1,889.671 c0,112.916,92.003,204.444,205.51,204.444c1.283,0,2.565-0.019,3.828-0.04c19.795,40.379,61.281,68.175,109.258,68.175 c3.686,0,7.334-0.157,10.941-0.481c-20.401-23.875-33.307-54.348-35.07-87.771C364.424,1041.018,412,970.873,412,889.673 c0-112.894-92.004-204.423-205.49-204.423C93.004,685.247,1,776.777,1,889.671z"/></g><g stroke="#333333" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"><path vector-effect="non-scaling-stroke" fill="#444444" d="M187.747,832.25H132.5v123h27.551v-45.188h28.086c7.596,0,14.055-1.102,19.378-3.302c5.323-2.196,9.656-5.138,13.019-8.745 c3.364-3.605,5.801-7.795,7.327-12.498c1.527-4.707,2.312-9.494,2.312-14.363c0-4.978-0.785-9.807-2.312-14.428 c-1.567-4.625-4.024-8.789-7.387-12.396c-3.363-3.605-7.765-6.551-13.168-8.747C201.924,833.391,195.421,832.25,187.747,832.25z M181.225,889.979h-21.173v-37.641h21.173c3.096,0,6.107,0.227,8.996,0.704c2.891,0.478,5.428,1.411,7.635,2.738 c2.187,1.346,3.941,3.274,5.285,5.698c1.319,2.463,1.979,5.679,1.979,9.682s-0.66,7.253-1.979,9.68 c-1.344,2.486-3.1,4.395-5.285,5.742c-2.207,1.327-4.744,2.236-7.635,2.695C187.334,889.753,184.32,889.979,181.225,889.979z"/><path fill="none" stroke-width="2" d="M187.747,832.25H132.5v123h27.551v-45.188h28.086c7.596,0,14.055-1.102,19.378-3.302c5.323-2.196,9.656-5.138,13.019-8.745 c3.364-3.605,5.801-7.795,7.327-12.498c1.527-4.707,2.312-9.494,2.312-14.363c0-4.978-0.785-9.807-2.312-14.428 c-1.567-4.625-4.024-8.789-7.387-12.396c-3.363-3.605-7.765-6.551-13.168-8.747C201.924,833.391,195.421,832.25,187.747,832.25z M181.225,889.979h-21.173v-37.641h21.173c3.096,0,6.107,0.227,8.996,0.704c2.891,0.478,5.428,1.411,7.635,2.738 c2.187,1.346,3.941,3.274,5.285,5.698c1.319,2.463,1.979,5.679,1.979,9.682s-0.66,7.253-1.979,9.68 c-1.344,2.486-3.1,4.395-5.285,5.742c-2.207,1.327-4.744,2.236-7.635,2.695C187.334,889.753,184.32,889.979,181.225,889.979z"/><g><path vector-effect="non-scaling-stroke" fill="#444444" d="M247.616,944.686c0,9.709,7.241,17.064,17.44,17.064c10.202,0,17.442-7.357,17.442-17.064c0-9.25-7.24-16.328-17.441-16.328 C254.855,927.592,247.616,934.95,247.616,944.686z M280.201,881.346V831.75h-30.292v49.596l6.886,37.639h16.521L280.201,881.346z"/><path fill="none" stroke-width="2" d="M247.616,944.686c0,9.709,7.241,17.064,17.44,17.064c10.202,0,17.442-7.357,17.442-17.064c0-9.25-7.24-16.328-17.441-16.328 C254.855,927.592,247.616,934.95,247.616,944.686z M280.201,881.346V831.75h-30.292v49.596l6.886,37.639h16.521L280.201,881.346z"/></g></g><g><linearGradient id="e" gradientUnits="userSpaceOnUse" x1="87.136" y1="385.394" x2="87.136" y2="297.549" gradientTransform="matrix(2.3906 0 0 -2.3906 134.192 1708.07)"><stop offset="0" stop-color="#c5372f"/><stop offset="1" stop-color="#900"/></linearGradient><path vector-effect="non-scaling-stroke" fill="url(#e)" stroke="#8B2721" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M314.164,970.195c2.755,0,4.955-0.561,6.592-1.577c1.639-1.095,2.916-2.451,3.854-4.009c0.923-1.614,1.519-3.43,1.758-5.362 c0.22-1.996,0.382-3.806,0.382-5.465v-36.5c0-4.823,0.895-8.829,2.715-11.96c1.818-3.09,3.978-5.622,6.469-7.516 c2.48-1.873,5.058-3.27,7.773-4.106c2.733-0.818,4.952-1.354,6.706-1.496v-0.697c-1.756-0.139-3.973-0.598-6.706-1.356 c-2.718-0.735-5.293-2.111-7.773-3.984c-2.491-1.895-4.648-4.564-6.469-7.994c-1.82-3.408-2.715-7.936-2.715-13.574v-34.669 c0-1.812-0.162-3.706-0.382-5.661c-0.239-1.955-0.837-3.769-1.758-5.363c-0.938-1.574-2.218-2.93-3.854-3.986 s-3.837-1.613-6.592-1.613H302.5V786.75h28.781c2.694,0,5.753,0.676,9.169,1.953c3.414,1.316,6.632,3.25,9.591,5.762 c2.953,2.532,5.449,5.741,7.53,9.669c2.036,3.927,3.112,8.472,3.112,13.695v43.299c0,3.849,0.742,7.118,2.299,9.788 c1.56,2.691,3.417,4.844,5.614,6.459c2.157,1.615,4.875,2.751,7.392,3.43c2.496,0.678,4.652,1.016,6.512,1.016v20.076 c-1.857,0-4.016,0.379-6.512,1.058c-2.517,0.677-5.232,1.772-7.394,3.209c-2.195,1.455-4.055,3.429-5.612,5.88 c-1.557,2.453-2.299,5.423-2.299,8.932v44.697c0,5.2-1.076,9.771-3.112,13.696c-2.079,3.927-4.577,7.116-7.532,9.688 c-2.955,2.487-6.175,4.402-9.589,5.74c-3.416,1.275-6.475,1.954-9.169,1.954H302.5v-26.554L314.164,970.195L314.164,970.195 L314.164,970.195z"/><path fill="none" stroke="#8B2721" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M314.164,970.195c2.755,0,4.955-0.561,6.592-1.577c1.639-1.095,2.916-2.451,3.854-4.009c0.923-1.614,1.519-3.43,1.758-5.362 c0.22-1.996,0.382-3.806,0.382-5.465v-36.5c0-4.823,0.895-8.829,2.715-11.96c1.818-3.09,3.978-5.622,6.469-7.516 c2.48-1.873,5.058-3.27,7.773-4.106c2.733-0.818,4.952-1.354,6.706-1.496v-0.697c-1.756-0.139-3.973-0.598-6.706-1.356 c-2.718-0.735-5.293-2.111-7.773-3.984c-2.491-1.895-4.648-4.564-6.469-7.994c-1.82-3.408-2.715-7.936-2.715-13.574v-34.669 c0-1.812-0.162-3.706-0.382-5.661c-0.239-1.955-0.837-3.769-1.758-5.363c-0.938-1.574-2.218-2.93-3.854-3.986 s-3.837-1.613-6.592-1.613H302.5V786.75h28.781c2.694,0,5.753,0.676,9.169,1.953c3.414,1.316,6.632,3.25,9.591,5.762 c2.953,2.532,5.449,5.741,7.53,9.669c2.036,3.927,3.112,8.472,3.112,13.695v43.299c0,3.849,0.742,7.118,2.299,9.788 c1.56,2.691,3.417,4.844,5.614,6.459c2.157,1.615,4.875,2.751,7.392,3.43c2.496,0.678,4.652,1.016,6.512,1.016v20.076 c-1.857,0-4.016,0.379-6.512,1.058c-2.517,0.677-5.232,1.772-7.394,3.209c-2.195,1.455-4.055,3.429-5.612,5.88 c-1.557,2.453-2.299,5.423-2.299,8.932v44.697c0,5.2-1.076,9.771-3.112,13.696c-2.079,3.927-4.577,7.116-7.532,9.688 c-2.955,2.487-6.175,4.402-9.589,5.74c-3.416,1.275-6.475,1.954-9.169,1.954H302.5v-26.554L314.164,970.195L314.164,970.195 L314.164,970.195z"/><g><linearGradient id="f" gradientUnits="userSpaceOnUse" x1="-26.642" y1="385.394" x2="-26.642" y2="297.55" gradientTransform="matrix(2.3906 0 0 -2.3906 134.192 1708.07)"><stop offset="0" stop-color="#c5372f"/><stop offset="1" stop-color="#900"/></linearGradient><path vector-effect="non-scaling-stroke" fill="url(#f)" stroke="#8B2721" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M98.835,813.305c-2.797,0-4.995,0.56-6.632,1.615c-1.618,1.057-2.916,2.413-3.815,3.987c-0.958,1.596-1.559,3.409-1.778,5.362 c-0.24,1.955-0.339,3.848-0.339,5.664V864.6c0,5.642-0.958,10.166-2.776,13.576c-1.818,3.43-3.975,6.1-6.432,7.993 c-2.496,1.874-5.073,3.25-7.811,3.985c-2.716,0.759-4.914,1.217-6.671,1.355v0.697c1.758,0.141,3.955,0.678,6.671,1.495 c2.737,0.838,5.314,2.233,7.811,4.106c2.456,1.895,4.614,4.426,6.432,7.517c1.817,3.13,2.776,7.136,2.776,11.96v36.501 c0,1.651,0.101,3.466,0.339,5.463c0.22,1.931,0.818,3.748,1.778,5.362c0.899,1.555,2.197,2.908,3.815,4.006 c1.637,1.021,3.835,1.58,6.632,1.58H110.5v26.552H81.716c-2.716,0-5.792-0.676-9.208-1.954c-3.396-1.337-6.592-3.251-9.548-5.74 c-2.937-2.574-5.493-5.762-7.531-9.688c-2.077-3.929-3.097-8.496-3.097-13.701v-44.692c0-3.51-0.798-6.479-2.357-8.933 c-1.558-2.449-3.415-4.424-5.573-5.879c-2.198-1.437-5.154-2.531-7.65-3.209c-2.497-0.679-4.534-1.058-6.252-1.058V881.82 c1.718,0,3.755-0.338,6.252-1.016c2.497-0.68,5.453-1.813,7.65-3.431c2.158-1.615,4.015-3.769,5.573-6.459 c1.559-2.671,2.357-5.938,2.357-9.788v-43.299c0-5.225,1.019-9.77,3.097-13.695c2.038-3.927,4.595-7.137,7.531-9.669 c2.956-2.511,6.151-4.444,9.548-5.761c3.416-1.276,6.492-1.954,9.208-1.954H110.5v26.553L98.835,813.305L98.835,813.305z"/><path fill="none" stroke="#8B2721" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="M98.835,813.305c-2.797,0-4.995,0.56-6.632,1.615c-1.618,1.057-2.916,2.413-3.815,3.987c-0.958,1.596-1.559,3.409-1.778,5.362 c-0.24,1.955-0.339,3.848-0.339,5.664V864.6c0,5.642-0.958,10.166-2.776,13.576c-1.818,3.43-3.975,6.1-6.432,7.993 c-2.496,1.874-5.073,3.25-7.811,3.985c-2.716,0.759-4.914,1.217-6.671,1.355v0.697c1.758,0.141,3.955,0.678,6.671,1.495 c2.737,0.838,5.314,2.233,7.811,4.106c2.456,1.895,4.614,4.426,6.432,7.517c1.817,3.13,2.776,7.136,2.776,11.96v36.501 c0,1.651,0.101,3.466,0.339,5.463c0.22,1.931,0.818,3.748,1.778,5.362c0.899,1.555,2.197,2.908,3.815,4.006 c1.637,1.021,3.835,1.58,6.632,1.58H110.5v26.552H81.716c-2.716,0-5.792-0.676-9.208-1.954c-3.396-1.337-6.592-3.251-9.548-5.74 c-2.937-2.574-5.493-5.762-7.531-9.688c-2.077-3.929-3.097-8.496-3.097-13.701v-44.692c0-3.51-0.798-6.479-2.357-8.933 c-1.558-2.449-3.415-4.424-5.573-5.879c-2.198-1.437-5.154-2.531-7.65-3.209c-2.497-0.679-4.534-1.058-6.252-1.058V881.82 c1.718,0,3.755-0.338,6.252-1.016c2.497-0.68,5.453-1.813,7.65-3.431c2.158-1.615,4.015-3.769,5.573-6.459 c1.559-2.671,2.357-5.938,2.357-9.788v-43.299c0-5.225,1.019-9.77,3.097-13.695c2.038-3.927,4.595-7.137,7.531-9.669 c2.956-2.511,6.151-4.444,9.548-5.761c3.416-1.276,6.492-1.954,9.208-1.954H110.5v26.553L98.835,813.305L98.835,813.305z"/></g></g></svg></span><span data-reactid=".kmkb4wc45c.0.0.0:1.0.0.0.1">Putain de code !</span></a></div><div class="r-Grid-cell r-minM--2of3" data-reactid=".kmkb4wc45c.0.0.0:1.0.1"><nav class="putainde-Nav" data-reactid=".kmkb4wc45c.0.0.0:1.0.1.0"><a class="putainde-Nav-item" href="/fr/articles" data-reactid=".kmkb4wc45c.0.0.0:1.0.1.0.0:$/fr/articles"><span class="SVGIcon SVGIcon--cleaned putainde-Icon" data-reactid=".kmkb4wc45c.0.0.0:1.0.1.0.0:$/fr/articles.0"><svg class="SVGIcon-svg SVGIcon--cleaned-svg putainde-Icon-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M318.275,90v283.23L256,318.16l-62.275,55.07V90H318.275 M358.275,50H153.725v412L256,371.557	L358.275,462V50L358.275,50z"/></svg></span><span data-reactid=".kmkb4wc45c.0.0.0:1.0.1.0.0:$/fr/articles.1">Articles</span></a><a class="putainde-Nav-item" href="/fr/contribuer" data-reactid=".kmkb4wc45c.0.0.0:1.0.1.0.0:$/fr/contribuer"><span class="SVGIcon SVGIcon--cleaned putainde-Icon" data-reactid=".kmkb4wc45c.0.0.0:1.0.1.0.0:$/fr/contribuer.0"><svg class="SVGIcon-svg SVGIcon--cleaned-svg putainde-Icon-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M74.686,340.686L50,460.949l122.365-22.584L379.52,231.211l-97.68-97.68L74.686,340.686z M303.088,205.032l-181.891,181.89l-21.213-21.213l181.891-181.89L303.088,205.032z M462,148.731l-52.662,52.662l-97.682-97.68	l52.662-52.663L462,148.731z"/></svg></span><span data-reactid=".kmkb4wc45c.0.0.0:1.0.1.0.0:$/fr/contribuer.1">Contribuer</span></a><a href="https://github.com/putaindecode/putaindecode.io" class="putainde-Nav-item putainde-Nav-item--icon r-Tooltip r-Tooltip r-Tooltip--bottom" data-r-tooltip="GitHub" data-reactid=".kmkb4wc45c.0.0.0:1.0.1.0.1:$https=2//github=1com/putaindecode/putaindecode=1io"><span class="SVGIcon SVGIcon--cleaned putainde-Icon" data-reactid=".kmkb4wc45c.0.0.0:1.0.1.0.1:$https=2//github=1com/putaindecode/putaindecode=1io.0"><svg class="SVGIcon-svg SVGIcon--cleaned-svg putainde-Icon-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M461.633,250.645l0.367-3.819c-22.896-2.221-45.667-2.419-67.79-0.73	c3.557-11.347,5.43-24.164,5.295-38.739c-0.292-30.965-10.616-55.081-26.843-75.096c3.116-18.852,0.769-37.702-5.111-56.561	c-23.187,1.898-44.053,9.493-62.634,22.686c-34.725-7.044-69.447-7.493-104.172,0c-21.673-14.627-42.956-21.802-63.909-22.686	c-6.21,20.765-7.169,41.233-1.917,61.357c-18.28,19.397-25.268,42.944-24.925,69.019c0.196,14.927,2.496,28.209,6.738,39.952	c-21.796-1.599-44.201-1.386-66.732,0.798l0.367,3.819c22.947-2.228,45.76-2.411,67.919-0.678c0.814,1.974,1.633,3.939,2.567,5.815	c-24.009-0.633-45.618,1.453-65.854,6.43l0.914,3.723c20.538-5.048,42.54-7.081,67.107-6.254	c16.246,28.864,47.52,45.824,93.063,51.205c-10.581,8.594-16.269,18.731-17.735,30.201c0,0-4.787,0-24.121,0	c-32.394,0-41.226-41.304-74.779-37.229C132,320,125.5,371.599,177.587,371.599c17.506,0,21.226,0,21.881,0v47.296	c0.234,7.643-3.093,12.754-8.469,16.297c18.654,1.884,32.674-7.43,32.674-18.854s0-56.948,0-62.518s5.833-6,5.833-6v72.992	c0.245,7.265-3.284,11.392-7.031,15.339c16.434,0.654,31.892-2.629,32.592-16.615c0,0,0-66.345,0-69.857s5.756-3.599,5.756,0	s0,66.58,0,66.58c0.169,11.8,10.361,21.367,31.953,19.893c-5.776-4.65-7.549-9.35-7.549-16.15s0-72.181,0-72.181s5.95-0.306,5.95,6	s0,50.331,0,60.881c0,13.55,16.267,19.14,34.829,18.615c-6.081-4.558-10.196-9.991-10.223-17.256v-73.217	c-0.629-10.762-5.003-20.906-13.582-30.358c41.63-6.392,71.637-23.011,86.578-52.796c24.647-0.847,46.715,1.183,67.307,6.246	l0.914-3.723c-20.394-5.014-42.181-7.096-66.416-6.415c0.839-1.891,1.67-3.789,2.389-5.785	C415.363,248.215,438.431,248.391,461.633,250.645z M114,310.023c-1.023,0-1.853-0.588-1.853-1.313c0-0.728,0.83-1.315,1.853-1.315	c1.024,0,1.854,0.588,1.854,1.315C115.854,309.436,115.024,310.023,114,310.023z M119.833,314.003c-1.137,0-2.06-0.653-2.06-1.46	s0.923-1.462,2.06-1.462s2.059,0.655,2.059,1.462S120.97,314.003,119.833,314.003z M125.75,319.172	c-1.333,0-2.415-0.766-2.415-1.712s1.082-1.714,2.415-1.714c1.333,0,2.416,0.768,2.416,1.714S127.083,319.172,125.75,319.172z M131.5,325.379c-1.56,0-2.825-0.896-2.825-2.003s1.265-2.005,2.825-2.005s2.825,0.898,2.825,2.005S133.06,325.379,131.5,325.379z M137.833,332.394c-1.733,0-3.139-0.996-3.139-2.226s1.406-2.228,3.139-2.228s3.139,0.998,3.139,2.228	S139.566,332.394,137.833,332.394z M145.167,339.517c-1.926,0-3.488-1.107-3.488-2.474s1.562-2.476,3.488-2.476	c1.925,0,3.487,1.109,3.487,2.476S147.092,339.517,145.167,339.517z M155.083,346.291c-2.14,0-3.875-1.231-3.875-2.749	c0-1.519,1.735-2.751,3.875-2.751s3.875,1.232,3.875,2.751C158.958,345.06,157.223,346.291,155.083,346.291z M167.375,349.916	c-2.14,0-3.875-1.231-3.875-2.749c0-1.519,1.735-2.751,3.875-2.751s3.875,1.232,3.875,2.751	C171.25,348.685,169.515,349.916,167.375,349.916z M180.333,350.333c-2.14,0-3.875-1.231-3.875-2.749	c0-1.519,1.735-2.751,3.875-2.751s3.875,1.232,3.875,2.751C184.208,349.102,182.473,350.333,180.333,350.333z M193.125,350.583	c-2.14,0-3.875-1.231-3.875-2.749c0-1.519,1.735-2.751,3.875-2.751s3.875,1.232,3.875,2.751	C197,349.352,195.265,350.583,193.125,350.583z"/></svg></span></a><a href="https://twitter.com/putaindecode_fr/" class="putainde-Nav-item putainde-Nav-item--icon r-Tooltip r-Tooltip r-Tooltip--bottom" data-r-tooltip="Twitter" data-reactid=".kmkb4wc45c.0.0.0:1.0.1.0.1:$https=2//twitter=1com/putaindecode_fr/"><span class="SVGIcon SVGIcon--cleaned putainde-Icon" data-reactid=".kmkb4wc45c.0.0.0:1.0.1.0.1:$https=2//twitter=1com/putaindecode_fr/.0"><svg class="SVGIcon-svg SVGIcon--cleaned-svg putainde-Icon-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M462,128.223c-15.158,6.724-31.449,11.269-48.547,13.31c17.449-10.461,30.854-27.025,37.164-46.764	c-16.333,9.687-34.422,16.721-53.676,20.511c-15.418-16.428-37.386-26.691-61.698-26.691c-54.56,0-94.668,50.916-82.337,103.787	c-70.25-3.524-132.534-37.177-174.223-88.314c-22.142,37.983-11.485,87.691,26.158,112.85c-13.854-0.438-26.891-4.241-38.285-10.574	c-0.917,39.162,27.146,75.781,67.795,83.949c-11.896,3.237-24.926,3.978-38.17,1.447c10.754,33.58,41.972,58.018,78.96,58.699	C139.604,378.282,94.846,390.721,50,385.436c37.406,23.982,81.837,37.977,129.571,37.977c156.932,0,245.595-132.551,240.251-251.435	C436.339,160.061,450.668,145.174,462,128.223z"/></svg></span></a><a href="/discuss/" class="putainde-Nav-item putainde-Nav-item--icon r-Tooltip r-Tooltip r-Tooltip--bottom" data-r-tooltip="Discuter" data-reactid=".kmkb4wc45c.0.0.0:1.0.1.0.1:$/discuss/"><span class="SVGIcon SVGIcon--cleaned putainde-Icon" data-reactid=".kmkb4wc45c.0.0.0:1.0.1.0.1:$/discuss/.0"><svg class="SVGIcon-svg SVGIcon--cleaned-svg putainde-Icon-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M174.059,354.374c-0.031-0.008-0.062-0.014-0.093-0.021	c-25.892,15.965-82.983,32.107-123.141,39.412c14.984-29.725,31.616-70.527,30.764-98.977C61.403,270.511,50,239.224,50,207.358	c0-89.84,87.383-155.527,185.209-155.527c97.22,0,185.211,65.193,185.211,155.527c0,1.283-0.027,2.564-0.066,3.844	c-11.285-6.088-23.506-11.037-36.622-14.68c-6.854-60.861-70.842-108.715-148.522-108.715c-82.237,0-149.141,53.631-149.141,119.551	c0,34.688,15.009,56.529,36.192,78.068c-4.306,31.98-14.646,59.781-14.646,59.781s30.542-8.064,65.253-28.275	C171.395,329.616,171.806,342.101,174.059,354.374z M461.432,460.169c-27.634-5.029-66.922-16.137-84.739-27.123	c-98.102,24.029-169.6-36.424-169.6-101.154c0-62.166,60.552-107.029,127.453-107.029c67.322,0,127.454,45.203,127.454,107.029	c0,21.928-7.85,43.457-21.738,60.164C439.674,411.634,451.121,439.712,461.432,460.169z M302.524,333.198	c0-9.648-7.841-17.469-17.515-17.469c-9.673,0-17.515,7.82-17.515,17.469s7.842,17.471,17.515,17.471	C294.684,350.669,302.524,342.847,302.524,333.198z M354.75,333.198c0-9.648-7.841-17.469-17.515-17.469	c-9.673,0-17.515,7.82-17.515,17.469s7.842,17.471,17.515,17.471C346.909,350.669,354.75,342.847,354.75,333.198z M406.339,333.198	c0-9.648-7.842-17.469-17.515-17.469c-9.674,0-17.515,7.82-17.515,17.469s7.841,17.471,17.515,17.471	C398.497,350.669,406.339,342.847,406.339,333.198z"/></svg></span></a></nav></div></div></div><div data-reactid=".kmkb4wc45c.0.0.0:2"><div class="putainde-Main" data-reactid=".kmkb4wc45c.0.0.0:2.3"><noscript data-reactid=".kmkb4wc45c.0.0.0:2.3.0"></noscript><article class="putainde-Post" data-reactid=".kmkb4wc45c.0.0.0:2.3.1"><header data-reactid=".kmkb4wc45c.0.0.0:2.3.1.0"><div class="putainde-Post-header" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.0.0"><h1 class="putainde-Title" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.0.0.2">Maîtriser les redirections shell</h1></div><div class="putainde-Post-metas" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.0.1"><span data-reactid=".kmkb4wc45c.0.0.0:2.3.1.0.1.0"><span data-reactid=".kmkb4wc45c.0.0.0:2.3.1.0.1.0.0">Écrit par </span><span data-reactid=".kmkb4wc45c.0.0.0:2.3.1.0.1.0.1"><a href="http://madx.me/" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.0.1.0.1.0:$[object Object]">madx</a><span data-reactid=".kmkb4wc45c.0.0.0:2.3.1.0.1.0.1.0:$[object Object]-glue"></span></span></span><span data-reactid=".kmkb4wc45c.0.0.0:2.3.1.0.1.1">, </span><span class="putainde-Date" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.0.1.2">on Jul 16, 2014</span><span data-reactid=".kmkb4wc45c.0.0.0:2.3.1.0.1.3">. </span><span class="r-Tooltip r-Tooltip--top putainde-Post-readingTime" data-r-tooltip="Temps de lecture approximatif, sur une base de 250 mots par minute" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.0.1.4"><span data-reactid=".kmkb4wc45c.0.0.0:2.3.1.0.1.4.0">Temps de lecture : </span><span data-reactid=".kmkb4wc45c.0.0.0:2.3.1.0.1.4.2">environ 5 minutes</span></span></div><ul class="putainde-Tags putainde-Post-tags" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.0.2"><li class="putainde-Tag" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.0.2.$shell">shell</li></ul></header><div class="r-Grid" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1"><div class="r-Grid-cell r-minM--8of12 putainde-Post-contents" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0"><div class="putainde-Post-md" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.0"><div data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.0.0"><p>Le shell (ou ligne de commande) est l’outil de prédilection pour bon nombre
d’entre nous qui utilisons un OS de la famille UNIX. Nous sommes persuadés que
bien utilisé, il remplace avantageusement un IDE complexe et gourmand.</p>
<p>Chez <em>Putain de code !</em>, on a une certaine tendance à utiliser <a href="http://fr.wikipedia.org/wiki/Z_Shell">Zsh</a>, mais
pour ma part, j’utilise encore et toujours le vénérable <a href="http://fr.wikipedia.org/wiki/Bourne-Again_shell">Bash</a>, non pas
pour faire mon barbu mais simplement car il me suffit amplement.</p>
<p>La suite de l’article est donc basée sur celui-ci mais tout devrait fonctionner
à l’identique sur Zsh.</p>
<p>Venons en au sujet même de cet article, l’un des éléments essentiels de
l’utilisation du shell : l’utilisation des redirections d’entrée/sortie de
base.</p>
<p>Si ça vous paraît barbare, tenez-vous bien, on attaque tout de suite !</p>
<h2 id="une-entr-e-deux-sorties"><a class="markdownIt-Anchor" href="#une-entr-e-deux-sorties">#</a> Une entrée, deux sorties</h2>
<p>Un des principes de base sous UNIX est que tout est fichier et que l’activité du
système est rendue par l’interaction de programmes (ou processus) à l’aide
des dits fichiers.</p>
<p>Pour pouvoir collaborer avec ses congénères, chaque processus peut accéder par
défaut à trois fichiers bien particuliers : l’entrée, la sortie, et la sortie
d’erreur standards.</p>
<ul>
<li>L’entrée standard (<code>stdin</code>)</li>
<li>La sortie standard (<code>stdout</code>)</li>
<li>La sortie d’erreur (<code>stderr</code>)</li>
</ul>
<p>Habituellement, l’entrée standard est liée au clavier de l’utilisateur <em>via</em> son
émulateur de terminal, et les deux sorties sont liées à l’affichage dans ce même
émulateur.</p>
<p>L’idée pour pouvoir faire collaborer les processus est donc de <em>brancher</em> les
entrées et sorties de différents programmes afin d’obtenir un résultat.</p>
<h2 id="les-redirections-de-base"><a class="markdownIt-Anchor" href="#les-redirections-de-base">#</a> Les redirections de base</h2>
<p>Commençons par quelques redirections de base, celles qu’il faut connaître et qui
sont employées systématiquement.</p>
<p>Pour nous exercer, nous allons utiliser principalement deux commandes :</p>
<ul>
<li><code>echo</code> : permet d’écrire un message spécifié en tant qu’argument sur sa sortie
standard.</li>
<li><code>cat</code> : permet d’afficher le contenu d’un fichier passé en argument sur sa
sortie standard ou de répéter son entrée standard sur sa sortie standard.</li>
</ul>
<p>Rappelez vous que par défaut, la sortie standard est affichée dans le terminal
et l’entrée standard est le clavier de l’utilisateur.</p>
<h3 id="redirection-de-sortie"><a class="markdownIt-Anchor" href="#redirection-de-sortie">#</a> Redirection de sortie : <code>&gt;</code></h3>
<p>Ce type de redirection permet d’indiquer à un processus que tout ce qui devrait
aller sur la sortie standard (par défaut, le terminal), doit plutôt être stocké
dans un fichier.</p>
<p>Pour ça, on utilise la syntaxe <code>&gt; [fichier]</code> :</p>
<pre><code class="language-console">$ echo <span class="hljs-string">"Hello"</span> &gt; <span class="hljs-keyword">message</span>
$ cat <span class="hljs-keyword">message</span>
Hello</code></pre>
<h3 id="redirection-d-entr-e"><a class="markdownIt-Anchor" href="#redirection-d-entr-e">#</a> Redirection d’entrée : <code>&lt;</code></h3>
<p>À l’inverse, on peut aussi spécifier à un programme qu’il doit utiliser un
fichier comme son entrée standard, à la place du clavier de l’utilisateur.</p>
<p>En réutilisant notre fichier <code>message</code>, on peut par exemple faire :</p>
<pre><code class="language-console">$ cat &lt; <span class="hljs-keyword">message</span>
Hello</code></pre>
<p>Notez qu’on utilise bien <code>cat</code> <em>sans argument</em>, il utilise donc l’entrée
standard.</p>
<h3 id="connecter-deux-processus"><a class="markdownIt-Anchor" href="#connecter-deux-processus">#</a> Connecter deux processus : <code>|</code></h3>
<p>Dernier des connecteurs de base, l’opérateur <code>|</code>, aussi appelé <em>pipe</em> (et qui se
prononce <em>paillepe</em>, avé l’accent).</p>
<p>Il permet tout simplement d’utiliser la sortie d’un programme comme entrée d’un
autre.</p>
<p>Pour montrer ça, introduisons la commande <code>tr</code>, qui permet de remplacer des
caractères dans l’entrée par d’autres.</p>
<pre><code class="language-console">$ <span class="hljs-keyword">echo</span> <span class="hljs-string">"Hello!"</span> | <span class="hljs-built_in">tr</span> <span class="hljs-string">"[:lower:]"</span> <span class="hljs-string">"[:upper:]"</span>
HELLO!</code></pre>
<h2 id="descripteurs-de-fichiers-et-redirections-avanc-es"><a class="markdownIt-Anchor" href="#descripteurs-de-fichiers-et-redirections-avanc-es">#</a> Descripteurs de fichiers et redirections avancées</h2>
<p>Pour aller plus loin, on va maintenant voir que chaque descripteur de fichier
possède son propre identifiant numérique.</p>
<p>Pour <code>stdin</code>, <code>stdout</code> et <code>stderr</code> ce sera respectivement 0, 1 et 2.</p>
<p>On peut se servir de ces identifiants pour faire des redirections plus
poussées !</p>
<h3 id="rediriger-les-autres-descripteur"><a class="markdownIt-Anchor" href="#rediriger-les-autres-descripteur">#</a> Rediriger les autres descripteur</h3>
<p>Par défaut, <code>&gt;</code> ne redirige que la sortie standard vers un fichier. Pour
rediriger un autre descripteur vers un fichier on emploiera la notation <code>X&gt;</code> où
<em>X</em> prendra la valeur de l’identifiant du descripteur.</p>
<p>Si vous avez bien suivi, on redirigera donc la sortie d’erreur vers un fichier à
l’aide de la syntaxe <code>2&gt;</code>.</p>
<h3 id="rediriger-vers-un-autre-descripteur"><a class="markdownIt-Anchor" href="#rediriger-vers-un-autre-descripteur">#</a> Rediriger vers un autre descripteur : <code>&gt;&amp;</code></h3>
<p>On peut connecter les descripteurs d’un processus entre eux. C’est un mécanisme
que l’on utilise très souvent quand on écrit des scripts Shell, notamment pour
écrire sur la sortie d’erreur.</p>
<p>Pour celà, on utilise la redirection <code>X&gt;&amp;Y</code> avec <em>X</em> étant l’identifiant
descripteur source et <em>Y</em> l’identifiant du descripteur sur lequel on veut
rediriger.</p>
<p>L’exemple suivant montre comment rediriger la sortie standard sur la sortie
d’erreur (c’est comme ça qu’on écrit sur la sortie d’erreur dans un script).</p>
<pre><code class="language-console">$ echo <span class="hljs-string">"Error"</span> <span class="hljs-number">1</span>&gt;&amp;<span class="hljs-number">2</span></code></pre>
<p>Plus généralement, on peut omettre la partie avant le <code>&gt;&amp;</code>, elle prendra la
valeur 1 par défaut. On aura donc le script suivant :</p>
<pre><code class="language-console">$ <span class="hljs-built_in">echo</span> <span class="hljs-string">"Error"</span> &gt;&amp;<span class="hljs-number">2</span></code></pre>
<h3 id="ajouter-en-fin-de-fichier"><a class="markdownIt-Anchor" href="#ajouter-en-fin-de-fichier">#</a> Ajouter en fin de fichier : <code>&gt;&gt;</code></h3>
<p>Par défaut, <code>&gt;</code> écrase le fichier dans lequel la redirection va s’effectuer.
Pour éviter ce problème, on peut utiliser à la place <code>&gt;&gt;</code> qui va ajouter en fin
de fichier.</p>
<pre><code class="language-console"># Sans &gt;&gt;
$ <span class="hljs-keyword">echo</span> <span class="hljs-string">"1"</span> &gt; <span class="hljs-keyword">file</span>
$ <span class="hljs-keyword">echo</span> <span class="hljs-string">"2"</span> &gt; <span class="hljs-keyword">file</span>
$ <span class="hljs-keyword">cat</span> <span class="hljs-keyword">file</span>
<span class="hljs-number">2</span></code></pre>
<pre><code class="language-console"><span class="hljs-comment"># Avec &gt;&gt;</span>
<span class="hljs-variable">$ </span>echo <span class="hljs-string">"1"</span> &gt; file
<span class="hljs-variable">$ </span>echo <span class="hljs-string">"2"</span> <span class="hljs-prompt">&gt;&gt; </span>file
<span class="hljs-variable">$ </span>cat file
<span class="hljs-number">1</span>
<span class="hljs-number">2</span></code></pre>
<h3 id="dev-null-le-trou-noir"><a class="markdownIt-Anchor" href="#dev-null-le-trou-noir">#</a> <code>/dev/null</code>, le trou noir</h3>
<p>Il existe un fichier un peu particulier sur tout bon UNIX qui se respecte :
<code>/dev/null</code>.</p>
<p>Ce dernier est en fait une sorte de trou noir : Si on affiche son contenu on
n’obtient rien, et si on écrit quelque chose dedans elle disparait.</p>
<p>On se sert souvent de ce fichier pour supprimer la sortie d’un programme :</p>
<pre><code class="language-console">$ echo <span class="hljs-string">"Hello"</span> &gt;<span class="hljs-regexp">/dev/</span><span class="hljs-keyword">null</span>
$ cat <span class="hljs-regexp">/dev/</span><span class="hljs-keyword">null</span>
$</code></pre>
<h3 id="ordre-des-redirections"><a class="markdownIt-Anchor" href="#ordre-des-redirections">#</a> Ordre des redirections</h3>
<p>Un dernier mot avant la fin, l’ordre des redirections est très important !</p>
<p>Imaginez la fonction suivante qui affiche un message sur la sortie standard et
un sur la sortie d’erreur :</p>
<pre><code class="language-console"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">programme</span><span class="hljs-params">()</span> {</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"Message"</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"Error"</span> &gt;&amp;<span class="hljs-number">2</span>
}</code></pre>
<p>Si on veut rediriger toutes les sorties vers <code>/dev/null</code> on peut utiliser la
syntaxe suivante :</p>
<pre><code class="language-console">$ programme <span class="hljs-number">2</span>&gt;<span class="hljs-regexp">/dev/</span><span class="hljs-keyword">null</span> &gt;<span class="hljs-regexp">/dev/</span><span class="hljs-keyword">null</span></code></pre>
<p>Vous remarquerez que c’est assez verbeux, et qu’on pourrait simplifier celà en
utilisant <code>&gt;&amp;</code> comme vu précédemment.</p>
<p>On essaie donc naïvement :</p>
<pre><code class="language-console">$ programme <span class="hljs-number">2</span>&gt;&amp;<span class="hljs-number">1</span> &gt;<span class="hljs-regexp">/dev/</span><span class="hljs-literal">null</span>
<span class="hljs-built_in">Error</span></code></pre>
<p>Hmm, pourtant on a tout branché ensemble non ? En fait non, on a redirigé la
sortie sur le fichier pointé par <code>1</code> au moment où on écrit la redirection, donc
avant qu’il soit redirigé sur <code>/dev/null</code>.</p>
<p>Pour bien faire, il faut écrire les redirections dans l’autre ordre :</p>
<pre><code class="language-console">$ programme &gt;/dev/null <span class="hljs-number">2</span>&gt;&amp;<span class="hljs-number">1</span></code></pre>
<p>On lira ceci : Rediriger la sortie standard vers <code>/dev/null</code>, puis rediriger la
sortie d’erreur vers la sortie standard.</p>
<h3 id="pour-r-sumer"><a class="markdownIt-Anchor" href="#pour-r-sumer">#</a> Pour résumer</h3>
<p>On a en fait que deux redirections de sortie, <code>&gt;</code> et <code>&gt;&gt;</code>, les symboles qui les
entourent sont souvent optionnels.</p>
<p>Si on veut spécifier un fichier on donnera son nom, si on veut spécifier un
descripteur on donnera son identifiant préfixé de <code>&amp;</code>.</p>
<h2 id="pour-aller-plus-loin"><a class="markdownIt-Anchor" href="#pour-aller-plus-loin">#</a> Pour aller plus loin</h2>
<p>Le manuel de bash contient <a href="http://www.gnu.org/software/bash/manual/bashref.html#Redirections">une section complète sur les
redirections</a>. Elle va beaucoup plus loin que cet article et je vous
invite à la lire pour voir tout ce qu’il est possible de faire.</p>
<p>Il y a aussi une section dédiée à ce sujet dans l’<a href="http://tldp.org/LDP/abs/html/io-redirection.html">Advanced Bash-Scripting Guide</a>.</p>
</div></div><footer class="putainde-Post-footer" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1"><div data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.0"><div class="putainde-Author undefined" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.0.0"><a href="http://madx.me/" class="putainde-Avatar putainde-Author-picture" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.0.0.0"><img class="js-AnimateLoad" src="https://avatars.githubusercontent.com/u/5723?v=3&amp;s=128" alt="" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.0.0.0.0"/></a><div class="putainde-Author-description" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.0.0.1"><div class="putainde-Author-title" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.0.0.1.0"><h3 class="putainde-Author-name" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.0.0.1.0.0"><span class="putainde-WrittenBy" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.0.0.1.0.0.0">Écrit par </span><a class="putainde-Link" href="http://madx.me/" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.0.0.1.0.0.1">madx</a></h3><div class="putainde-Author-social" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.0.0.1.0.1"><a href="http://madx.me/" class="r-Tooltip r-Tooltip--top" data-r-tooltip="Website" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.0.0.1.0.1.0"><span class="SVGIcon SVGIcon--cleaned putainde-Icon" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.0.0.1.0.1.0.0"><svg class="SVGIcon-svg SVGIcon--cleaned-svg putainde-Icon-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M394.072,174.805l-47.916-48.023V88.472h47.916V174.805z M462,275.815h-42.508v166.213H92.508V275.815H50	L256,69.972L462,275.815z M296.847,271.972c-15.811-3.316-29.021,4.086-38.792,19.387c-9.771-15.301-22.98-22.703-38.789-19.387	c-36.746,10.876-36.336,69.543,38.582,113.047C332.908,341.761,333.59,282.848,296.847,271.972z"/></svg></span></a><a href="https://twitter.com/madx" class="r-Tooltip r-Tooltip--top" data-r-tooltip="Twitter" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.0.0.1.0.1.1"><span class="SVGIcon SVGIcon--cleaned putainde-Icon" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.0.0.1.0.1.1.0"><svg class="SVGIcon-svg SVGIcon--cleaned-svg putainde-Icon-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M462,128.223c-15.158,6.724-31.449,11.269-48.547,13.31c17.449-10.461,30.854-27.025,37.164-46.764	c-16.333,9.687-34.422,16.721-53.676,20.511c-15.418-16.428-37.386-26.691-61.698-26.691c-54.56,0-94.668,50.916-82.337,103.787	c-70.25-3.524-132.534-37.177-174.223-88.314c-22.142,37.983-11.485,87.691,26.158,112.85c-13.854-0.438-26.891-4.241-38.285-10.574	c-0.917,39.162,27.146,75.781,67.795,83.949c-11.896,3.237-24.926,3.978-38.17,1.447c10.754,33.58,41.972,58.018,78.96,58.699	C139.604,378.282,94.846,390.721,50,385.436c37.406,23.982,81.837,37.977,129.571,37.977c156.932,0,245.595-132.551,240.251-251.435	C436.339,160.061,450.668,145.174,462,128.223z"/></svg></span></a><a href="https://github.com/madx" class="r-Tooltip r-Tooltip--top" data-r-tooltip="Github" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.0.0.1.0.1.2"><span class="SVGIcon SVGIcon--cleaned putainde-Icon" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.0.0.1.0.1.2.0"><svg class="SVGIcon-svg SVGIcon--cleaned-svg putainde-Icon-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M461.633,250.645l0.367-3.819c-22.896-2.221-45.667-2.419-67.79-0.73	c3.557-11.347,5.43-24.164,5.295-38.739c-0.292-30.965-10.616-55.081-26.843-75.096c3.116-18.852,0.769-37.702-5.111-56.561	c-23.187,1.898-44.053,9.493-62.634,22.686c-34.725-7.044-69.447-7.493-104.172,0c-21.673-14.627-42.956-21.802-63.909-22.686	c-6.21,20.765-7.169,41.233-1.917,61.357c-18.28,19.397-25.268,42.944-24.925,69.019c0.196,14.927,2.496,28.209,6.738,39.952	c-21.796-1.599-44.201-1.386-66.732,0.798l0.367,3.819c22.947-2.228,45.76-2.411,67.919-0.678c0.814,1.974,1.633,3.939,2.567,5.815	c-24.009-0.633-45.618,1.453-65.854,6.43l0.914,3.723c20.538-5.048,42.54-7.081,67.107-6.254	c16.246,28.864,47.52,45.824,93.063,51.205c-10.581,8.594-16.269,18.731-17.735,30.201c0,0-4.787,0-24.121,0	c-32.394,0-41.226-41.304-74.779-37.229C132,320,125.5,371.599,177.587,371.599c17.506,0,21.226,0,21.881,0v47.296	c0.234,7.643-3.093,12.754-8.469,16.297c18.654,1.884,32.674-7.43,32.674-18.854s0-56.948,0-62.518s5.833-6,5.833-6v72.992	c0.245,7.265-3.284,11.392-7.031,15.339c16.434,0.654,31.892-2.629,32.592-16.615c0,0,0-66.345,0-69.857s5.756-3.599,5.756,0	s0,66.58,0,66.58c0.169,11.8,10.361,21.367,31.953,19.893c-5.776-4.65-7.549-9.35-7.549-16.15s0-72.181,0-72.181s5.95-0.306,5.95,6	s0,50.331,0,60.881c0,13.55,16.267,19.14,34.829,18.615c-6.081-4.558-10.196-9.991-10.223-17.256v-73.217	c-0.629-10.762-5.003-20.906-13.582-30.358c41.63-6.392,71.637-23.011,86.578-52.796c24.647-0.847,46.715,1.183,67.307,6.246	l0.914-3.723c-20.394-5.014-42.181-7.096-66.416-6.415c0.839-1.891,1.67-3.789,2.389-5.785	C415.363,248.215,438.431,248.391,461.633,250.645z M114,310.023c-1.023,0-1.853-0.588-1.853-1.313c0-0.728,0.83-1.315,1.853-1.315	c1.024,0,1.854,0.588,1.854,1.315C115.854,309.436,115.024,310.023,114,310.023z M119.833,314.003c-1.137,0-2.06-0.653-2.06-1.46	s0.923-1.462,2.06-1.462s2.059,0.655,2.059,1.462S120.97,314.003,119.833,314.003z M125.75,319.172	c-1.333,0-2.415-0.766-2.415-1.712s1.082-1.714,2.415-1.714c1.333,0,2.416,0.768,2.416,1.714S127.083,319.172,125.75,319.172z M131.5,325.379c-1.56,0-2.825-0.896-2.825-2.003s1.265-2.005,2.825-2.005s2.825,0.898,2.825,2.005S133.06,325.379,131.5,325.379z M137.833,332.394c-1.733,0-3.139-0.996-3.139-2.226s1.406-2.228,3.139-2.228s3.139,0.998,3.139,2.228	S139.566,332.394,137.833,332.394z M145.167,339.517c-1.926,0-3.488-1.107-3.488-2.474s1.562-2.476,3.488-2.476	c1.925,0,3.487,1.109,3.487,2.476S147.092,339.517,145.167,339.517z M155.083,346.291c-2.14,0-3.875-1.231-3.875-2.749	c0-1.519,1.735-2.751,3.875-2.751s3.875,1.232,3.875,2.751C158.958,345.06,157.223,346.291,155.083,346.291z M167.375,349.916	c-2.14,0-3.875-1.231-3.875-2.749c0-1.519,1.735-2.751,3.875-2.751s3.875,1.232,3.875,2.751	C171.25,348.685,169.515,349.916,167.375,349.916z M180.333,350.333c-2.14,0-3.875-1.231-3.875-2.749	c0-1.519,1.735-2.751,3.875-2.751s3.875,1.232,3.875,2.751C184.208,349.102,182.473,350.333,180.333,350.333z M193.125,350.583	c-2.14,0-3.875-1.231-3.875-2.749c0-1.519,1.735-2.751,3.875-2.751s3.875,1.232,3.875,2.751	C197,349.352,195.265,350.583,193.125,350.583z"/></svg></span></a></div></div><p class="putainde-Author-bio" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.0.0.1.1"><span data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.0.0.1.1.0">Développeur Ruby et JavaScript, avec un goût prononcé pour la simplicité, le soleil, le pastis.</span><span data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.0.0.1.1.1">Il n&#x27;aime pas OS X car, objectivement, c&#x27;est nul.</span><span data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.0.0.1.1.2">Quand il n&#x27;est pas devant son ordi, il y a de grandes chances qu&#x27;il compense avec son téléphone.</span><span data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.0.0.1.1.3">Spécialiste en développement d&#x27;applications inutiles.</span></p></div></div></div><div class="putainde-Contributors" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.2"><strong class="putainde-Contributors-label" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.2.0"><span data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.2.0.1">4 contributeurs sur cette page</span></strong><div class="r-Grid putainde-Contributors-actions" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.2.1"><div class="r-Grid-cell r-all--1of3" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.2.1.0"><a class="putainde-Contributors-action" href="https://github.com/putaindecode/putaindecode.io/edit/master/content/fr/articles/shell/redirections/index.md" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.2.1.0.0">Modifier</a></div><div class="r-Grid-cell r-all--1of3" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.2.1.1"><a class="putainde-Contributors-action" href="https://github.com/putaindecode/putaindecode.io/blame/master/content/fr/articles/shell/redirections/index.md" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.2.1.1.0">Tracer les changements</a></div><div class="r-Grid-cell r-all--1of3" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.2.1.2"><a class="putainde-Contributors-action" href="https://github.com/putaindecode/putaindecode.io/commits/master/content/fr/articles/shell/redirections/index.md" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.2.1.2.0">Historique</a></div></div><div class="putainde-Contributor r-Tooltip r-Tooltip--bottom r-Tooltip--allowNewLines" data-r-tooltip="MoOx
(4 commits)" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.2.2:0"><a href="http://moox.io/" class="putainde-Avatar putainde-Contributor-avatar--small" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.2.2:0.0"><img class="js-AnimateLoad" src="https://avatars.githubusercontent.com/u/157534?v=3&amp;s=128" alt="" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.2.2:0.0.0"/></a></div><div class="putainde-Contributor r-Tooltip r-Tooltip--bottom r-Tooltip--allowNewLines" data-r-tooltip="madx
(1 commit)" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.2.2:1"><a href="http://madx.me/" class="putainde-Avatar putainde-Contributor-avatar--small" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.2.2:1.0"><img class="js-AnimateLoad" src="https://avatars.githubusercontent.com/u/5723?v=3&amp;s=128" alt="" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.2.2:1.0.0"/></a></div><div class="putainde-Contributor r-Tooltip r-Tooltip--bottom r-Tooltip--allowNewLines" data-r-tooltip="MattiSG
(1 commit)" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.2.2:2"><a href="http://mattischneider.fr" class="putainde-Avatar putainde-Contributor-avatar--small" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.2.2:2.0"><img class="js-AnimateLoad" src="https://avatars.githubusercontent.com/u/222463?v=3&amp;s=128" alt="" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.2.2:2.0.0"/></a></div><div class="putainde-Contributor r-Tooltip r-Tooltip--bottom r-Tooltip--allowNewLines" data-r-tooltip="Macxim
(1 commit)" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.2.2:3"><a href="http://macx.im" class="putainde-Avatar putainde-Contributor-avatar--small" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.2.2:3.0"><img class="js-AnimateLoad" src="https://avatars.githubusercontent.com/u/1909957?v=3&amp;s=128" alt="" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.2.2:3.0.0"/></a></div></div><div data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.3"><div id="disqus_thread" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.3.0"></div><noscript data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.3.1"><span data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.3.1.0"><span data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.3.1.0.0">Please enable JavaScript to view the</span><a href="http://disqus.com/?ref_noscript" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.3.1.0.1">comments powered by Disqus.</a></span></noscript><a href="http://disqus.com" class="dsq-brlink" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.3.2"><span data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.3.2.0">blog comments powered by</span><span class="logo-disqus" data-reactid=".kmkb4wc45c.0.0.0:2.3.1.1.0.1.3.2.1">Disqus</span></a></div></footer></div></div></article></div></div><div class="putainde-Footer" data-reactid=".kmkb4wc45c.0.0.0:3"><div class="r-Grid" data-reactid=".kmkb4wc45c.0.0.0:3.0"><div class="r-Grid-cell r-minM--1of4" data-reactid=".kmkb4wc45c.0.0.0:3.0.0"><p class="putainde-Footer-text" data-reactid=".kmkb4wc45c.0.0.0:3.0.0.0">© 1970 - 2015 Putain de code !</p></div><div class="r-Grid-cell r-minM--2of4" data-reactid=".kmkb4wc45c.0.0.0:3.0.1"><ul class="putainde-Footer-list" data-reactid=".kmkb4wc45c.0.0.0:3.0.1.0"><li data-reactid=".kmkb4wc45c.0.0.0:3.0.1.0.0:$/feed=1xml"><a href="/feed.xml" data-reactid=".kmkb4wc45c.0.0.0:3.0.1.0.0:$/feed=1xml.0">Flux RSS</a></li><li data-reactid=".kmkb4wc45c.0.0.0:3.0.1.0.$https=2//github=1com/putaindecode/forum/issues"><a href="https://github.com/putaindecode/forum/issues" data-reactid=".kmkb4wc45c.0.0.0:3.0.1.0.$https=2//github=1com/putaindecode/forum/issues.0">Forum</a></li><li data-reactid=".kmkb4wc45c.0.0.0:3.0.1.0.$https=2//github=1com/putaindecode/putaindecode=1io"><a href="https://github.com/putaindecode/putaindecode.io" data-r-tooltip="GitHub" class="r-Tooltip r-Tooltip--top" data-reactid=".kmkb4wc45c.0.0.0:3.0.1.0.$https=2//github=1com/putaindecode/putaindecode=1io.0"><span class="SVGIcon SVGIcon--cleaned putainde-Icon" data-reactid=".kmkb4wc45c.0.0.0:3.0.1.0.$https=2//github=1com/putaindecode/putaindecode=1io.0.0"><svg class="SVGIcon-svg SVGIcon--cleaned-svg putainde-Icon-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M461.633,250.645l0.367-3.819c-22.896-2.221-45.667-2.419-67.79-0.73	c3.557-11.347,5.43-24.164,5.295-38.739c-0.292-30.965-10.616-55.081-26.843-75.096c3.116-18.852,0.769-37.702-5.111-56.561	c-23.187,1.898-44.053,9.493-62.634,22.686c-34.725-7.044-69.447-7.493-104.172,0c-21.673-14.627-42.956-21.802-63.909-22.686	c-6.21,20.765-7.169,41.233-1.917,61.357c-18.28,19.397-25.268,42.944-24.925,69.019c0.196,14.927,2.496,28.209,6.738,39.952	c-21.796-1.599-44.201-1.386-66.732,0.798l0.367,3.819c22.947-2.228,45.76-2.411,67.919-0.678c0.814,1.974,1.633,3.939,2.567,5.815	c-24.009-0.633-45.618,1.453-65.854,6.43l0.914,3.723c20.538-5.048,42.54-7.081,67.107-6.254	c16.246,28.864,47.52,45.824,93.063,51.205c-10.581,8.594-16.269,18.731-17.735,30.201c0,0-4.787,0-24.121,0	c-32.394,0-41.226-41.304-74.779-37.229C132,320,125.5,371.599,177.587,371.599c17.506,0,21.226,0,21.881,0v47.296	c0.234,7.643-3.093,12.754-8.469,16.297c18.654,1.884,32.674-7.43,32.674-18.854s0-56.948,0-62.518s5.833-6,5.833-6v72.992	c0.245,7.265-3.284,11.392-7.031,15.339c16.434,0.654,31.892-2.629,32.592-16.615c0,0,0-66.345,0-69.857s5.756-3.599,5.756,0	s0,66.58,0,66.58c0.169,11.8,10.361,21.367,31.953,19.893c-5.776-4.65-7.549-9.35-7.549-16.15s0-72.181,0-72.181s5.95-0.306,5.95,6	s0,50.331,0,60.881c0,13.55,16.267,19.14,34.829,18.615c-6.081-4.558-10.196-9.991-10.223-17.256v-73.217	c-0.629-10.762-5.003-20.906-13.582-30.358c41.63-6.392,71.637-23.011,86.578-52.796c24.647-0.847,46.715,1.183,67.307,6.246	l0.914-3.723c-20.394-5.014-42.181-7.096-66.416-6.415c0.839-1.891,1.67-3.789,2.389-5.785	C415.363,248.215,438.431,248.391,461.633,250.645z M114,310.023c-1.023,0-1.853-0.588-1.853-1.313c0-0.728,0.83-1.315,1.853-1.315	c1.024,0,1.854,0.588,1.854,1.315C115.854,309.436,115.024,310.023,114,310.023z M119.833,314.003c-1.137,0-2.06-0.653-2.06-1.46	s0.923-1.462,2.06-1.462s2.059,0.655,2.059,1.462S120.97,314.003,119.833,314.003z M125.75,319.172	c-1.333,0-2.415-0.766-2.415-1.712s1.082-1.714,2.415-1.714c1.333,0,2.416,0.768,2.416,1.714S127.083,319.172,125.75,319.172z M131.5,325.379c-1.56,0-2.825-0.896-2.825-2.003s1.265-2.005,2.825-2.005s2.825,0.898,2.825,2.005S133.06,325.379,131.5,325.379z M137.833,332.394c-1.733,0-3.139-0.996-3.139-2.226s1.406-2.228,3.139-2.228s3.139,0.998,3.139,2.228	S139.566,332.394,137.833,332.394z M145.167,339.517c-1.926,0-3.488-1.107-3.488-2.474s1.562-2.476,3.488-2.476	c1.925,0,3.487,1.109,3.487,2.476S147.092,339.517,145.167,339.517z M155.083,346.291c-2.14,0-3.875-1.231-3.875-2.749	c0-1.519,1.735-2.751,3.875-2.751s3.875,1.232,3.875,2.751C158.958,345.06,157.223,346.291,155.083,346.291z M167.375,349.916	c-2.14,0-3.875-1.231-3.875-2.749c0-1.519,1.735-2.751,3.875-2.751s3.875,1.232,3.875,2.751	C171.25,348.685,169.515,349.916,167.375,349.916z M180.333,350.333c-2.14,0-3.875-1.231-3.875-2.749	c0-1.519,1.735-2.751,3.875-2.751s3.875,1.232,3.875,2.751C184.208,349.102,182.473,350.333,180.333,350.333z M193.125,350.583	c-2.14,0-3.875-1.231-3.875-2.749c0-1.519,1.735-2.751,3.875-2.751s3.875,1.232,3.875,2.751	C197,349.352,195.265,350.583,193.125,350.583z"/></svg></span></a></li><li data-reactid=".kmkb4wc45c.0.0.0:3.0.1.0.$https=2//twitter=1com/putaindecode_fr/"><a href="https://twitter.com/putaindecode_fr/" data-r-tooltip="Twitter" class="r-Tooltip r-Tooltip--top" data-reactid=".kmkb4wc45c.0.0.0:3.0.1.0.$https=2//twitter=1com/putaindecode_fr/.0"><span class="SVGIcon SVGIcon--cleaned putainde-Icon" data-reactid=".kmkb4wc45c.0.0.0:3.0.1.0.$https=2//twitter=1com/putaindecode_fr/.0.0"><svg class="SVGIcon-svg SVGIcon--cleaned-svg putainde-Icon-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M462,128.223c-15.158,6.724-31.449,11.269-48.547,13.31c17.449-10.461,30.854-27.025,37.164-46.764	c-16.333,9.687-34.422,16.721-53.676,20.511c-15.418-16.428-37.386-26.691-61.698-26.691c-54.56,0-94.668,50.916-82.337,103.787	c-70.25-3.524-132.534-37.177-174.223-88.314c-22.142,37.983-11.485,87.691,26.158,112.85c-13.854-0.438-26.891-4.241-38.285-10.574	c-0.917,39.162,27.146,75.781,67.795,83.949c-11.896,3.237-24.926,3.978-38.17,1.447c10.754,33.58,41.972,58.018,78.96,58.699	C139.604,378.282,94.846,390.721,50,385.436c37.406,23.982,81.837,37.977,129.571,37.977c156.932,0,245.595-132.551,240.251-251.435	C436.339,160.061,450.668,145.174,462,128.223z"/></svg></span></a></li><li data-reactid=".kmkb4wc45c.0.0.0:3.0.1.0.$/discuss/"><a href="/discuss/" data-r-tooltip="Discuter" class="r-Tooltip r-Tooltip--top" data-reactid=".kmkb4wc45c.0.0.0:3.0.1.0.$/discuss/.0"><span class="SVGIcon SVGIcon--cleaned putainde-Icon" data-reactid=".kmkb4wc45c.0.0.0:3.0.1.0.$/discuss/.0.0"><svg class="SVGIcon-svg SVGIcon--cleaned-svg putainde-Icon-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M174.059,354.374c-0.031-0.008-0.062-0.014-0.093-0.021	c-25.892,15.965-82.983,32.107-123.141,39.412c14.984-29.725,31.616-70.527,30.764-98.977C61.403,270.511,50,239.224,50,207.358	c0-89.84,87.383-155.527,185.209-155.527c97.22,0,185.211,65.193,185.211,155.527c0,1.283-0.027,2.564-0.066,3.844	c-11.285-6.088-23.506-11.037-36.622-14.68c-6.854-60.861-70.842-108.715-148.522-108.715c-82.237,0-149.141,53.631-149.141,119.551	c0,34.688,15.009,56.529,36.192,78.068c-4.306,31.98-14.646,59.781-14.646,59.781s30.542-8.064,65.253-28.275	C171.395,329.616,171.806,342.101,174.059,354.374z M461.432,460.169c-27.634-5.029-66.922-16.137-84.739-27.123	c-98.102,24.029-169.6-36.424-169.6-101.154c0-62.166,60.552-107.029,127.453-107.029c67.322,0,127.454,45.203,127.454,107.029	c0,21.928-7.85,43.457-21.738,60.164C439.674,411.634,451.121,439.712,461.432,460.169z M302.524,333.198	c0-9.648-7.841-17.469-17.515-17.469c-9.673,0-17.515,7.82-17.515,17.469s7.842,17.471,17.515,17.471	C294.684,350.669,302.524,342.847,302.524,333.198z M354.75,333.198c0-9.648-7.841-17.469-17.515-17.469	c-9.673,0-17.515,7.82-17.515,17.469s7.842,17.471,17.515,17.471C346.909,350.669,354.75,342.847,354.75,333.198z M406.339,333.198	c0-9.648-7.842-17.469-17.515-17.469c-9.674,0-17.515,7.82-17.515,17.469s7.841,17.471,17.515,17.471	C398.497,350.669,406.339,342.847,406.339,333.198z"/></svg></span></a></li></ul></div><div class="r-Grid-cell r-minM--1of4 putainde-Footer-text--right" data-reactid=".kmkb4wc45c.0.0.0:3.0.2"><span class="putainde-Footer-text putainde-Footer-text--small" data-reactid=".kmkb4wc45c.0.0.0:3.0.2.0"><a class="" href="/en/" data-reactid=".kmkb4wc45c.0.0.0:3.0.2.0.0">English</a><span data-reactid=".kmkb4wc45c.0.0.0:3.0.2.0.1"> | </span><a class="" href="/fr/" data-reactid=".kmkb4wc45c.0.0.0:3.0.2.0.2">Français</a></span></div></div></div><script data-reactid=".kmkb4wc45c.0.0.1"></script></div></div></div></div><script>window.__INITIAL_STATE__ = {"pages":{"fr/articles/shell/redirections":{"head":{"layout":"Post","comments":true,"date":"2014-07-16","title":"Maîtriser les redirections shell","tags":["shell"],"authors":["madx"]},"body":"<p>Le shell (ou ligne de commande) est l’outil de prédilection pour bon nombre\nd’entre nous qui utilisons un OS de la famille UNIX. Nous sommes persuadés que\nbien utilisé, il remplace avantageusement un IDE complexe et gourmand.</p>\n<p>Chez <em>Putain de code !</em>, on a une certaine tendance à utiliser <a href=\"http://fr.wikipedia.org/wiki/Z_Shell\">Zsh</a>, mais\npour ma part, j’utilise encore et toujours le vénérable <a href=\"http://fr.wikipedia.org/wiki/Bourne-Again_shell\">Bash</a>, non pas\npour faire mon barbu mais simplement car il me suffit amplement.</p>\n<p>La suite de l’article est donc basée sur celui-ci mais tout devrait fonctionner\nà l’identique sur Zsh.</p>\n<p>Venons en au sujet même de cet article, l’un des éléments essentiels de\nl’utilisation du shell : l’utilisation des redirections d’entrée/sortie de\nbase.</p>\n<p>Si ça vous paraît barbare, tenez-vous bien, on attaque tout de suite !</p>\n<h2 id=\"une-entr-e-deux-sorties\"><a class=\"markdownIt-Anchor\" href=\"#une-entr-e-deux-sorties\">#</a> Une entrée, deux sorties</h2>\n<p>Un des principes de base sous UNIX est que tout est fichier et que l’activité du\nsystème est rendue par l’interaction de programmes (ou processus) à l’aide\ndes dits fichiers.</p>\n<p>Pour pouvoir collaborer avec ses congénères, chaque processus peut accéder par\ndéfaut à trois fichiers bien particuliers : l’entrée, la sortie, et la sortie\nd’erreur standards.</p>\n<ul>\n<li>L’entrée standard (<code>stdin</code>)</li>\n<li>La sortie standard (<code>stdout</code>)</li>\n<li>La sortie d’erreur (<code>stderr</code>)</li>\n</ul>\n<p>Habituellement, l’entrée standard est liée au clavier de l’utilisateur <em>via</em> son\némulateur de terminal, et les deux sorties sont liées à l’affichage dans ce même\némulateur.</p>\n<p>L’idée pour pouvoir faire collaborer les processus est donc de <em>brancher</em> les\nentrées et sorties de différents programmes afin d’obtenir un résultat.</p>\n<h2 id=\"les-redirections-de-base\"><a class=\"markdownIt-Anchor\" href=\"#les-redirections-de-base\">#</a> Les redirections de base</h2>\n<p>Commençons par quelques redirections de base, celles qu’il faut connaître et qui\nsont employées systématiquement.</p>\n<p>Pour nous exercer, nous allons utiliser principalement deux commandes :</p>\n<ul>\n<li><code>echo</code> : permet d’écrire un message spécifié en tant qu’argument sur sa sortie\nstandard.</li>\n<li><code>cat</code> : permet d’afficher le contenu d’un fichier passé en argument sur sa\nsortie standard ou de répéter son entrée standard sur sa sortie standard.</li>\n</ul>\n<p>Rappelez vous que par défaut, la sortie standard est affichée dans le terminal\net l’entrée standard est le clavier de l’utilisateur.</p>\n<h3 id=\"redirection-de-sortie\"><a class=\"markdownIt-Anchor\" href=\"#redirection-de-sortie\">#</a> Redirection de sortie : <code>&gt;</code></h3>\n<p>Ce type de redirection permet d’indiquer à un processus que tout ce qui devrait\naller sur la sortie standard (par défaut, le terminal), doit plutôt être stocké\ndans un fichier.</p>\n<p>Pour ça, on utilise la syntaxe <code>&gt; [fichier]</code> :</p>\n<pre><code class=\"language-console\">$ echo <span class=\"hljs-string\">\"Hello\"</span> &gt; <span class=\"hljs-keyword\">message</span>\n$ cat <span class=\"hljs-keyword\">message</span>\nHello</code></pre>\n<h3 id=\"redirection-d-entr-e\"><a class=\"markdownIt-Anchor\" href=\"#redirection-d-entr-e\">#</a> Redirection d’entrée : <code>&lt;</code></h3>\n<p>À l’inverse, on peut aussi spécifier à un programme qu’il doit utiliser un\nfichier comme son entrée standard, à la place du clavier de l’utilisateur.</p>\n<p>En réutilisant notre fichier <code>message</code>, on peut par exemple faire :</p>\n<pre><code class=\"language-console\">$ cat &lt; <span class=\"hljs-keyword\">message</span>\nHello</code></pre>\n<p>Notez qu’on utilise bien <code>cat</code> <em>sans argument</em>, il utilise donc l’entrée\nstandard.</p>\n<h3 id=\"connecter-deux-processus\"><a class=\"markdownIt-Anchor\" href=\"#connecter-deux-processus\">#</a> Connecter deux processus : <code>|</code></h3>\n<p>Dernier des connecteurs de base, l’opérateur <code>|</code>, aussi appelé <em>pipe</em> (et qui se\nprononce <em>paillepe</em>, avé l’accent).</p>\n<p>Il permet tout simplement d’utiliser la sortie d’un programme comme entrée d’un\nautre.</p>\n<p>Pour montrer ça, introduisons la commande <code>tr</code>, qui permet de remplacer des\ncaractères dans l’entrée par d’autres.</p>\n<pre><code class=\"language-console\">$ <span class=\"hljs-keyword\">echo</span> <span class=\"hljs-string\">\"Hello!\"</span> | <span class=\"hljs-built_in\">tr</span> <span class=\"hljs-string\">\"[:lower:]\"</span> <span class=\"hljs-string\">\"[:upper:]\"</span>\nHELLO!</code></pre>\n<h2 id=\"descripteurs-de-fichiers-et-redirections-avanc-es\"><a class=\"markdownIt-Anchor\" href=\"#descripteurs-de-fichiers-et-redirections-avanc-es\">#</a> Descripteurs de fichiers et redirections avancées</h2>\n<p>Pour aller plus loin, on va maintenant voir que chaque descripteur de fichier\npossède son propre identifiant numérique.</p>\n<p>Pour <code>stdin</code>, <code>stdout</code> et <code>stderr</code> ce sera respectivement 0, 1 et 2.</p>\n<p>On peut se servir de ces identifiants pour faire des redirections plus\npoussées !</p>\n<h3 id=\"rediriger-les-autres-descripteur\"><a class=\"markdownIt-Anchor\" href=\"#rediriger-les-autres-descripteur\">#</a> Rediriger les autres descripteur</h3>\n<p>Par défaut, <code>&gt;</code> ne redirige que la sortie standard vers un fichier. Pour\nrediriger un autre descripteur vers un fichier on emploiera la notation <code>X&gt;</code> où\n<em>X</em> prendra la valeur de l’identifiant du descripteur.</p>\n<p>Si vous avez bien suivi, on redirigera donc la sortie d’erreur vers un fichier à\nl’aide de la syntaxe <code>2&gt;</code>.</p>\n<h3 id=\"rediriger-vers-un-autre-descripteur\"><a class=\"markdownIt-Anchor\" href=\"#rediriger-vers-un-autre-descripteur\">#</a> Rediriger vers un autre descripteur : <code>&gt;&amp;</code></h3>\n<p>On peut connecter les descripteurs d’un processus entre eux. C’est un mécanisme\nque l’on utilise très souvent quand on écrit des scripts Shell, notamment pour\nécrire sur la sortie d’erreur.</p>\n<p>Pour celà, on utilise la redirection <code>X&gt;&amp;Y</code> avec <em>X</em> étant l’identifiant\ndescripteur source et <em>Y</em> l’identifiant du descripteur sur lequel on veut\nrediriger.</p>\n<p>L’exemple suivant montre comment rediriger la sortie standard sur la sortie\nd’erreur (c’est comme ça qu’on écrit sur la sortie d’erreur dans un script).</p>\n<pre><code class=\"language-console\">$ echo <span class=\"hljs-string\">\"Error\"</span> <span class=\"hljs-number\">1</span>&gt;&amp;<span class=\"hljs-number\">2</span></code></pre>\n<p>Plus généralement, on peut omettre la partie avant le <code>&gt;&amp;</code>, elle prendra la\nvaleur 1 par défaut. On aura donc le script suivant :</p>\n<pre><code class=\"language-console\">$ <span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">\"Error\"</span> &gt;&amp;<span class=\"hljs-number\">2</span></code></pre>\n<h3 id=\"ajouter-en-fin-de-fichier\"><a class=\"markdownIt-Anchor\" href=\"#ajouter-en-fin-de-fichier\">#</a> Ajouter en fin de fichier : <code>&gt;&gt;</code></h3>\n<p>Par défaut, <code>&gt;</code> écrase le fichier dans lequel la redirection va s’effectuer.\nPour éviter ce problème, on peut utiliser à la place <code>&gt;&gt;</code> qui va ajouter en fin\nde fichier.</p>\n<pre><code class=\"language-console\"># Sans &gt;&gt;\n$ <span class=\"hljs-keyword\">echo</span> <span class=\"hljs-string\">\"1\"</span> &gt; <span class=\"hljs-keyword\">file</span>\n$ <span class=\"hljs-keyword\">echo</span> <span class=\"hljs-string\">\"2\"</span> &gt; <span class=\"hljs-keyword\">file</span>\n$ <span class=\"hljs-keyword\">cat</span> <span class=\"hljs-keyword\">file</span>\n<span class=\"hljs-number\">2</span></code></pre>\n<pre><code class=\"language-console\"><span class=\"hljs-comment\"># Avec &gt;&gt;</span>\n<span class=\"hljs-variable\">$ </span>echo <span class=\"hljs-string\">\"1\"</span> &gt; file\n<span class=\"hljs-variable\">$ </span>echo <span class=\"hljs-string\">\"2\"</span> <span class=\"hljs-prompt\">&gt;&gt; </span>file\n<span class=\"hljs-variable\">$ </span>cat file\n<span class=\"hljs-number\">1</span>\n<span class=\"hljs-number\">2</span></code></pre>\n<h3 id=\"dev-null-le-trou-noir\"><a class=\"markdownIt-Anchor\" href=\"#dev-null-le-trou-noir\">#</a> <code>/dev/null</code>, le trou noir</h3>\n<p>Il existe un fichier un peu particulier sur tout bon UNIX qui se respecte :\n<code>/dev/null</code>.</p>\n<p>Ce dernier est en fait une sorte de trou noir : Si on affiche son contenu on\nn’obtient rien, et si on écrit quelque chose dedans elle disparait.</p>\n<p>On se sert souvent de ce fichier pour supprimer la sortie d’un programme :</p>\n<pre><code class=\"language-console\">$ echo <span class=\"hljs-string\">\"Hello\"</span> &gt;<span class=\"hljs-regexp\">/dev/</span><span class=\"hljs-keyword\">null</span>\n$ cat <span class=\"hljs-regexp\">/dev/</span><span class=\"hljs-keyword\">null</span>\n$</code></pre>\n<h3 id=\"ordre-des-redirections\"><a class=\"markdownIt-Anchor\" href=\"#ordre-des-redirections\">#</a> Ordre des redirections</h3>\n<p>Un dernier mot avant la fin, l’ordre des redirections est très important !</p>\n<p>Imaginez la fonction suivante qui affiche un message sur la sortie standard et\nun sur la sortie d’erreur :</p>\n<pre><code class=\"language-console\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">programme</span><span class=\"hljs-params\">()</span> {</span>\n  <span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">\"Message\"</span>\n  <span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">\"Error\"</span> &gt;&amp;<span class=\"hljs-number\">2</span>\n}</code></pre>\n<p>Si on veut rediriger toutes les sorties vers <code>/dev/null</code> on peut utiliser la\nsyntaxe suivante :</p>\n<pre><code class=\"language-console\">$ programme <span class=\"hljs-number\">2</span>&gt;<span class=\"hljs-regexp\">/dev/</span><span class=\"hljs-keyword\">null</span> &gt;<span class=\"hljs-regexp\">/dev/</span><span class=\"hljs-keyword\">null</span></code></pre>\n<p>Vous remarquerez que c’est assez verbeux, et qu’on pourrait simplifier celà en\nutilisant <code>&gt;&amp;</code> comme vu précédemment.</p>\n<p>On essaie donc naïvement :</p>\n<pre><code class=\"language-console\">$ programme <span class=\"hljs-number\">2</span>&gt;&amp;<span class=\"hljs-number\">1</span> &gt;<span class=\"hljs-regexp\">/dev/</span><span class=\"hljs-literal\">null</span>\n<span class=\"hljs-built_in\">Error</span></code></pre>\n<p>Hmm, pourtant on a tout branché ensemble non ? En fait non, on a redirigé la\nsortie sur le fichier pointé par <code>1</code> au moment où on écrit la redirection, donc\navant qu’il soit redirigé sur <code>/dev/null</code>.</p>\n<p>Pour bien faire, il faut écrire les redirections dans l’autre ordre :</p>\n<pre><code class=\"language-console\">$ programme &gt;/dev/null <span class=\"hljs-number\">2</span>&gt;&amp;<span class=\"hljs-number\">1</span></code></pre>\n<p>On lira ceci : Rediriger la sortie standard vers <code>/dev/null</code>, puis rediriger la\nsortie d’erreur vers la sortie standard.</p>\n<h3 id=\"pour-r-sumer\"><a class=\"markdownIt-Anchor\" href=\"#pour-r-sumer\">#</a> Pour résumer</h3>\n<p>On a en fait que deux redirections de sortie, <code>&gt;</code> et <code>&gt;&gt;</code>, les symboles qui les\nentourent sont souvent optionnels.</p>\n<p>Si on veut spécifier un fichier on donnera son nom, si on veut spécifier un\ndescripteur on donnera son identifiant préfixé de <code>&amp;</code>.</p>\n<h2 id=\"pour-aller-plus-loin\"><a class=\"markdownIt-Anchor\" href=\"#pour-aller-plus-loin\">#</a> Pour aller plus loin</h2>\n<p>Le manuel de bash contient <a href=\"http://www.gnu.org/software/bash/manual/bashref.html#Redirections\">une section complète sur les\nredirections</a>. Elle va beaucoup plus loin que cet article et je vous\ninvite à la lire pour voir tout ce qu’il est possible de faire.</p>\n<p>Il y a aussi une section dédiée à ce sujet dans l’<a href=\"http://tldp.org/LDP/abs/html/io-redirection.html\">Advanced Bash-Scripting Guide</a>.</p>\n","rawBody":"\nLe shell (ou ligne de commande) est l'outil de prédilection pour bon nombre\nd'entre nous qui utilisons un OS de la famille UNIX. Nous sommes persuadés que\nbien utilisé, il remplace avantageusement un IDE complexe et gourmand.\n\nChez _Putain de code !_, on a une certaine tendance à utiliser [Zsh][wp:zsh], mais\npour ma part, j'utilise encore et toujours le vénérable [Bash][wp:bash], non pas\npour faire mon barbu mais simplement car il me suffit amplement.\n\nLa suite de l'article est donc basée sur celui-ci mais tout devrait fonctionner\nà l'identique sur Zsh.\n\nVenons en au sujet même de cet article, l'un des éléments essentiels de\nl'utilisation du shell : l'utilisation des redirections d'entrée/sortie de\nbase.\n\nSi ça vous paraît barbare, tenez-vous bien, on attaque tout de suite !\n\n## Une entrée, deux sorties\n\nUn des principes de base sous UNIX est que tout est fichier et que l'activité du\nsystème est rendue par l'interaction de programmes (ou processus) à l'aide\ndes dits fichiers.\n\nPour pouvoir collaborer avec ses congénères, chaque processus peut accéder par\ndéfaut à trois fichiers bien particuliers : l'entrée, la sortie, et la sortie\nd'erreur standards.\n\n* L'entrée standard (`stdin`)\n* La sortie standard (`stdout`)\n* La sortie d'erreur (`stderr`)\n\nHabituellement, l'entrée standard est liée au clavier de l'utilisateur *via* son\némulateur de terminal, et les deux sorties sont liées à l'affichage dans ce même\némulateur.\n\nL'idée pour pouvoir faire collaborer les processus est donc de *brancher* les\nentrées et sorties de différents programmes afin d'obtenir un résultat.\n\n## Les redirections de base\n\nCommençons par quelques redirections de base, celles qu'il faut connaître et qui\nsont employées systématiquement.\n\nPour nous exercer, nous allons utiliser principalement deux commandes :\n\n* `echo` : permet d'écrire un message spécifié en tant qu'argument sur sa sortie\n  standard.\n* `cat` : permet d'afficher le contenu d'un fichier passé en argument sur sa\n  sortie standard ou de répéter son entrée standard sur sa sortie standard.\n\nRappelez vous que par défaut, la sortie standard est affichée dans le terminal\net l'entrée standard est le clavier de l'utilisateur.\n\n### Redirection de sortie : `>`\n\nCe type de redirection permet d'indiquer à un processus que tout ce qui devrait\naller sur la sortie standard (par défaut, le terminal), doit plutôt être stocké\ndans un fichier.\n\nPour ça, on utilise la syntaxe `> [fichier]` :\n\n``` console\n$ echo \"Hello\" > message\n$ cat message\nHello\n```\n\n### Redirection d'entrée : `<`\n\nÀ l'inverse, on peut aussi spécifier à un programme qu'il doit utiliser un\nfichier comme son entrée standard, à la place du clavier de l'utilisateur.\n\nEn réutilisant notre fichier `message`, on peut par exemple faire :\n\n``` console\n$ cat < message\nHello\n```\n\nNotez qu'on utilise bien `cat` *sans argument*, il utilise donc l'entrée\nstandard.\n\n### Connecter deux processus : `|`\n\nDernier des connecteurs de base, l'opérateur `|`, aussi appelé *pipe* (et qui se\nprononce *paillepe*, avé l'accent).\n\nIl permet tout simplement d'utiliser la sortie d'un programme comme entrée d'un\nautre.\n\nPour montrer ça, introduisons la commande `tr`, qui permet de remplacer des\ncaractères dans l'entrée par d'autres.\n\n``` console\n$ echo \"Hello!\" | tr \"[:lower:]\" \"[:upper:]\"\nHELLO!\n```\n\n## Descripteurs de fichiers et redirections avancées\n\nPour aller plus loin, on va maintenant voir que chaque descripteur de fichier\npossède son propre identifiant numérique.\n\nPour `stdin`, `stdout` et `stderr` ce sera respectivement 0, 1 et 2.\n\nOn peut se servir de ces identifiants pour faire des redirections plus\npoussées !\n\n### Rediriger les autres descripteur\n\nPar défaut, `>` ne redirige que la sortie standard vers un fichier. Pour\nrediriger un autre descripteur vers un fichier on emploiera la notation `X>` où\n*X* prendra la valeur de l'identifiant du descripteur.\n\nSi vous avez bien suivi, on redirigera donc la sortie d'erreur vers un fichier à\nl'aide de la syntaxe `2>`.\n\n### Rediriger vers un autre descripteur : `>&`\n\nOn peut connecter les descripteurs d'un processus entre eux. C'est un mécanisme\nque l'on utilise très souvent quand on écrit des scripts Shell, notamment pour\nécrire sur la sortie d'erreur.\n\nPour celà, on utilise la redirection `X>&Y` avec *X* étant l'identifiant\ndescripteur source et *Y* l'identifiant du descripteur sur lequel on veut\nrediriger.\n\nL'exemple suivant montre comment rediriger la sortie standard sur la sortie\nd'erreur (c'est comme ça qu'on écrit sur la sortie d'erreur dans un script).\n\n``` console\n$ echo \"Error\" 1>&2\n```\n\nPlus généralement, on peut omettre la partie avant le `>&`, elle prendra la\nvaleur 1 par défaut. On aura donc le script suivant :\n\n``` console\n$ echo \"Error\" >&2\n```\n\n### Ajouter en fin de fichier : `>>`\n\nPar défaut, `>` écrase le fichier dans lequel la redirection va s'effectuer.\nPour éviter ce problème, on peut utiliser à la place `>>` qui va ajouter en fin\nde fichier.\n\n``` console\n# Sans >>\n$ echo \"1\" > file\n$ echo \"2\" > file\n$ cat file\n2\n```\n\n``` console\n# Avec >>\n$ echo \"1\" > file\n$ echo \"2\" >> file\n$ cat file\n1\n2\n```\n\n### `/dev/null`, le trou noir\n\nIl existe un fichier un peu particulier sur tout bon UNIX qui se respecte :\n`/dev/null`.\n\nCe dernier est en fait une sorte de trou noir : Si on affiche son contenu on\nn'obtient rien, et si on écrit quelque chose dedans elle disparait.\n\nOn se sert souvent de ce fichier pour supprimer la sortie d'un programme :\n\n``` console\n$ echo \"Hello\" >/dev/null\n$ cat /dev/null\n$\n```\n\n### Ordre des redirections\n\nUn dernier mot avant la fin, l'ordre des redirections est très important !\n\nImaginez la fonction suivante qui affiche un message sur la sortie standard et\nun sur la sortie d'erreur :\n\n``` console\nfunction programme() {\n  echo \"Message\"\n  echo \"Error\" >&2\n}\n```\n\nSi on veut rediriger toutes les sorties vers `/dev/null` on peut utiliser la\nsyntaxe suivante :\n\n``` console\n$ programme 2>/dev/null >/dev/null\n```\n\nVous remarquerez que c'est assez verbeux, et qu'on pourrait simplifier celà en\nutilisant `>&` comme vu précédemment.\n\nOn essaie donc naïvement :\n\n``` console\n$ programme 2>&1 >/dev/null\nError\n```\n\nHmm, pourtant on a tout branché ensemble non ? En fait non, on a redirigé la\nsortie sur le fichier pointé par `1` au moment où on écrit la redirection, donc\navant qu'il soit redirigé sur `/dev/null`.\n\nPour bien faire, il faut écrire les redirections dans l'autre ordre :\n\n``` console\n$ programme >/dev/null 2>&1\n```\n\nOn lira ceci : Rediriger la sortie standard vers `/dev/null`, puis rediriger la\nsortie d'erreur vers la sortie standard.\n\n### Pour résumer\n\nOn a en fait que deux redirections de sortie, `>` et `>>`, les symboles qui les\nentourent sont souvent optionnels.\n\nSi on veut spécifier un fichier on donnera son nom, si on veut spécifier un\ndescripteur on donnera son identifiant préfixé de `&`.\n\n## Pour aller plus loin\n\nLe manuel de bash contient [une section complète sur les\nredirections][man:bash]. Elle va beaucoup plus loin que cet article et je vous\ninvite à la lire pour voir tout ce qu'il est possible de faire.\n\nIl y a aussi une section dédiée à ce sujet dans l'[Advanced Bash-Scripting Guide][tldp:abs].\n\n[wp:zsh]: http://fr.wikipedia.org/wiki/Z_Shell\n[wp:bash]: http://fr.wikipedia.org/wiki/Bourne-Again_shell\n[man:bash]: http://www.gnu.org/software/bash/manual/bashref.html#Redirections\n[tldp:abs]: http://tldp.org/LDP/abs/html/io-redirection.html\n","raw":"---\ndate: \"2014-07-16\"\ntitle: Maîtriser les redirections shell\ntags:\n  - shell\nauthors:\n  - madx\n---\n\nLe shell (ou ligne de commande) est l'outil de prédilection pour bon nombre\nd'entre nous qui utilisons un OS de la famille UNIX. Nous sommes persuadés que\nbien utilisé, il remplace avantageusement un IDE complexe et gourmand.\n\nChez _Putain de code !_, on a une certaine tendance à utiliser [Zsh][wp:zsh], mais\npour ma part, j'utilise encore et toujours le vénérable [Bash][wp:bash], non pas\npour faire mon barbu mais simplement car il me suffit amplement.\n\nLa suite de l'article est donc basée sur celui-ci mais tout devrait fonctionner\nà l'identique sur Zsh.\n\nVenons en au sujet même de cet article, l'un des éléments essentiels de\nl'utilisation du shell : l'utilisation des redirections d'entrée/sortie de\nbase.\n\nSi ça vous paraît barbare, tenez-vous bien, on attaque tout de suite !\n\n## Une entrée, deux sorties\n\nUn des principes de base sous UNIX est que tout est fichier et que l'activité du\nsystème est rendue par l'interaction de programmes (ou processus) à l'aide\ndes dits fichiers.\n\nPour pouvoir collaborer avec ses congénères, chaque processus peut accéder par\ndéfaut à trois fichiers bien particuliers : l'entrée, la sortie, et la sortie\nd'erreur standards.\n\n* L'entrée standard (`stdin`)\n* La sortie standard (`stdout`)\n* La sortie d'erreur (`stderr`)\n\nHabituellement, l'entrée standard est liée au clavier de l'utilisateur *via* son\némulateur de terminal, et les deux sorties sont liées à l'affichage dans ce même\némulateur.\n\nL'idée pour pouvoir faire collaborer les processus est donc de *brancher* les\nentrées et sorties de différents programmes afin d'obtenir un résultat.\n\n## Les redirections de base\n\nCommençons par quelques redirections de base, celles qu'il faut connaître et qui\nsont employées systématiquement.\n\nPour nous exercer, nous allons utiliser principalement deux commandes :\n\n* `echo` : permet d'écrire un message spécifié en tant qu'argument sur sa sortie\n  standard.\n* `cat` : permet d'afficher le contenu d'un fichier passé en argument sur sa\n  sortie standard ou de répéter son entrée standard sur sa sortie standard.\n\nRappelez vous que par défaut, la sortie standard est affichée dans le terminal\net l'entrée standard est le clavier de l'utilisateur.\n\n### Redirection de sortie : `>`\n\nCe type de redirection permet d'indiquer à un processus que tout ce qui devrait\naller sur la sortie standard (par défaut, le terminal), doit plutôt être stocké\ndans un fichier.\n\nPour ça, on utilise la syntaxe `> [fichier]` :\n\n``` console\n$ echo \"Hello\" > message\n$ cat message\nHello\n```\n\n### Redirection d'entrée : `<`\n\nÀ l'inverse, on peut aussi spécifier à un programme qu'il doit utiliser un\nfichier comme son entrée standard, à la place du clavier de l'utilisateur.\n\nEn réutilisant notre fichier `message`, on peut par exemple faire :\n\n``` console\n$ cat < message\nHello\n```\n\nNotez qu'on utilise bien `cat` *sans argument*, il utilise donc l'entrée\nstandard.\n\n### Connecter deux processus : `|`\n\nDernier des connecteurs de base, l'opérateur `|`, aussi appelé *pipe* (et qui se\nprononce *paillepe*, avé l'accent).\n\nIl permet tout simplement d'utiliser la sortie d'un programme comme entrée d'un\nautre.\n\nPour montrer ça, introduisons la commande `tr`, qui permet de remplacer des\ncaractères dans l'entrée par d'autres.\n\n``` console\n$ echo \"Hello!\" | tr \"[:lower:]\" \"[:upper:]\"\nHELLO!\n```\n\n## Descripteurs de fichiers et redirections avancées\n\nPour aller plus loin, on va maintenant voir que chaque descripteur de fichier\npossède son propre identifiant numérique.\n\nPour `stdin`, `stdout` et `stderr` ce sera respectivement 0, 1 et 2.\n\nOn peut se servir de ces identifiants pour faire des redirections plus\npoussées !\n\n### Rediriger les autres descripteur\n\nPar défaut, `>` ne redirige que la sortie standard vers un fichier. Pour\nrediriger un autre descripteur vers un fichier on emploiera la notation `X>` où\n*X* prendra la valeur de l'identifiant du descripteur.\n\nSi vous avez bien suivi, on redirigera donc la sortie d'erreur vers un fichier à\nl'aide de la syntaxe `2>`.\n\n### Rediriger vers un autre descripteur : `>&`\n\nOn peut connecter les descripteurs d'un processus entre eux. C'est un mécanisme\nque l'on utilise très souvent quand on écrit des scripts Shell, notamment pour\nécrire sur la sortie d'erreur.\n\nPour celà, on utilise la redirection `X>&Y` avec *X* étant l'identifiant\ndescripteur source et *Y* l'identifiant du descripteur sur lequel on veut\nrediriger.\n\nL'exemple suivant montre comment rediriger la sortie standard sur la sortie\nd'erreur (c'est comme ça qu'on écrit sur la sortie d'erreur dans un script).\n\n``` console\n$ echo \"Error\" 1>&2\n```\n\nPlus généralement, on peut omettre la partie avant le `>&`, elle prendra la\nvaleur 1 par défaut. On aura donc le script suivant :\n\n``` console\n$ echo \"Error\" >&2\n```\n\n### Ajouter en fin de fichier : `>>`\n\nPar défaut, `>` écrase le fichier dans lequel la redirection va s'effectuer.\nPour éviter ce problème, on peut utiliser à la place `>>` qui va ajouter en fin\nde fichier.\n\n``` console\n# Sans >>\n$ echo \"1\" > file\n$ echo \"2\" > file\n$ cat file\n2\n```\n\n``` console\n# Avec >>\n$ echo \"1\" > file\n$ echo \"2\" >> file\n$ cat file\n1\n2\n```\n\n### `/dev/null`, le trou noir\n\nIl existe un fichier un peu particulier sur tout bon UNIX qui se respecte :\n`/dev/null`.\n\nCe dernier est en fait une sorte de trou noir : Si on affiche son contenu on\nn'obtient rien, et si on écrit quelque chose dedans elle disparait.\n\nOn se sert souvent de ce fichier pour supprimer la sortie d'un programme :\n\n``` console\n$ echo \"Hello\" >/dev/null\n$ cat /dev/null\n$\n```\n\n### Ordre des redirections\n\nUn dernier mot avant la fin, l'ordre des redirections est très important !\n\nImaginez la fonction suivante qui affiche un message sur la sortie standard et\nun sur la sortie d'erreur :\n\n``` console\nfunction programme() {\n  echo \"Message\"\n  echo \"Error\" >&2\n}\n```\n\nSi on veut rediriger toutes les sorties vers `/dev/null` on peut utiliser la\nsyntaxe suivante :\n\n``` console\n$ programme 2>/dev/null >/dev/null\n```\n\nVous remarquerez que c'est assez verbeux, et qu'on pourrait simplifier celà en\nutilisant `>&` comme vu précédemment.\n\nOn essaie donc naïvement :\n\n``` console\n$ programme 2>&1 >/dev/null\nError\n```\n\nHmm, pourtant on a tout branché ensemble non ? En fait non, on a redirigé la\nsortie sur le fichier pointé par `1` au moment où on écrit la redirection, donc\navant qu'il soit redirigé sur `/dev/null`.\n\nPour bien faire, il faut écrire les redirections dans l'autre ordre :\n\n``` console\n$ programme >/dev/null 2>&1\n```\n\nOn lira ceci : Rediriger la sortie standard vers `/dev/null`, puis rediriger la\nsortie d'erreur vers la sortie standard.\n\n### Pour résumer\n\nOn a en fait que deux redirections de sortie, `>` et `>>`, les symboles qui les\nentourent sont souvent optionnels.\n\nSi on veut spécifier un fichier on donnera son nom, si on veut spécifier un\ndescripteur on donnera son identifiant préfixé de `&`.\n\n## Pour aller plus loin\n\nLe manuel de bash contient [une section complète sur les\nredirections][man:bash]. Elle va beaucoup plus loin que cet article et je vous\ninvite à la lire pour voir tout ce qu'il est possible de faire.\n\nIl y a aussi une section dédiée à ce sujet dans l'[Advanced Bash-Scripting Guide][tldp:abs].\n\n[wp:zsh]: http://fr.wikipedia.org/wiki/Z_Shell\n[wp:bash]: http://fr.wikipedia.org/wiki/Bourne-Again_shell\n[man:bash]: http://www.gnu.org/software/bash/manual/bashref.html#Redirections\n[tldp:abs]: http://tldp.org/LDP/abs/html/io-redirection.html\n","__filename":"fr/articles/shell/redirections/index.md","__url":"/fr/articles/shell/redirections/","type":"Post"}}}</script><script src="/statinamic-client.js"></script></body></html>